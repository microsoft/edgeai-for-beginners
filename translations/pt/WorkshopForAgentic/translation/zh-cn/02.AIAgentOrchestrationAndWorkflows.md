<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2a2578dc4f813ca93ca7952d842a4b59",
  "translation_date": "2026-01-05T14:44:35+00:00",
  "source_file": "WorkshopForAgentic/translation/zh-cn/02.AIAgentOrchestrationAndWorkflows.md",
  "language_code": "pt"
}
-->
# Ato Dois: Construir a tua equipa de produÃ§Ã£o de podcast ğŸ¬

![lab2](../../../../../translated_images/pt/lab2.48444b9d549e7863.png)

## Enredo em desenvolvimento

O Alex (o teu assistente de IA do Ato Um) Ã© excelente, mas um agente inteligente nÃ£o consegue gerir todo o estÃºdio de podcast sozinho. PrecisarÃ¡s de uma *equipa*:
- ğŸ” **Agente de pesquisa**: procura na internet para encontrar informaÃ§Ã£o fresca
- âœï¸ **Agente de script**: transforma a pesquisa em diÃ¡logos cativantes
- ğŸ‘¤ **Tu (editor)**: aprovas os scripts ou devolves para reescrever

Bem-vindo Ã  **OrquestraÃ§Ã£o de Agentes de IA** â€” Ã©s o diretor da tua prÃ³pria equipa de IA. Imagina os Vingadores, mas para produÃ§Ã£o de podcast.

## O que Ã© a orquestraÃ§Ã£o de agentes? (versÃ£o simples)

Imagina que geres um restaurante. NÃ£o fazes tudo sozinho, certo? Tens:
- ğŸ³ Um chef responsÃ¡vel pela cozinha
- ğŸ‘¨â€ğŸ³ Um sous-chef responsÃ¡vel pela preparaÃ§Ã£o
- ğŸ‘©â€ğŸ³ Um empregado responsÃ¡vel por servir

A orquestraÃ§Ã£o de agentes Ã© a mesma ideia, mas com IA. Cada agente tem uma especialidade, e tu coordenas-os para atingir um objetivo maior. Nenhum agente fica sobrecarregado e o trabalho Ã© feito mais rÃ¡pido.

### AnalogÃ­a da banda ğŸ¸

Os teus agentes de IA sÃ£o como uma banda:
- **Vocalista principal**: o agente principal a lidar com tarefas direcionadas ao cliente
- **Baterista**: mantÃ©m o ritmo, lida com backend
- **Baixista**: suporta todos, obtÃ©m dados
- **Tu (manager da banda)**: coordenas tudo!

Sem coordenaÃ§Ã£o? SÃ³ barulho. Com orquestraÃ§Ã£o? MÃºsica maravilhosa.

### Por que Ã© importante

Um agente de IA a tentar fazer tudo = burnout. Agentes especializados a trabalhar juntos = eficiÃªncia desbloqueada! ğŸš€

**Sinceramente**: lembras-te de tentar pesquisar, escrever e editar o teu podcast sozinho? Sim, foi pÃ©ssimo. Com orquestraÃ§Ã£o, cada agente trata do que sabe fazer melhor. Tu sÃ³ decides o que fica final.

**Exemplo real**: chatbots de suporte ao cliente sabem quando tratar faturas vs questÃµes tÃ©cnicas vs quando chamar um humano. Isso Ã© orquestraÃ§Ã£o!

## Agentes vs Fluxos de trabalho: Qual a diferenÃ§a?

Pensa assim:

### ğŸ¤– Agente de IA = MÃºsico de jazz
- **Decide improvisadamente** baseado no que ouve
- **Cria espontaneamente** usando as suas ferramentas
- **Pensa** com um cÃ©rebro LLM
- **Adapta-se** a qualquer coisa que lhe deres

### ğŸµ Fluxo de trabalho = Orquestra tocando mÃºsica clÃ¡ssica
- **Segue a partitura** (passos predefinidos)
- **Executa previsivelmente**
- **Coordena** mÃºltiplos agentes, humanos, sistemas
- **Ã‰ estruturado** como uma receita

**A magia**: o fluxo de trabalho *orquestra* os agentes! Tu constrÃ³is um fluxo para dizer aos agentes quando intervir. O melhor dos dois mundos. ğŸ­

## TrÃªs formas de coordenar a tua equipa de IA

### 1. ğŸ¯ Centralizado (tu Ã©s o chefe)

Um agente principal dÃ¡ ordens. Imagina que gestionas uma equipa â€” tu decides quem faz o quÃª e quando.

**Vantagens**:
- âœ… LideranÃ§a clara (sem confusÃ£o)
- âœ… DecisÃµes consistentes
- âœ… FÃ¡cil de depurar

**Ideal para**:
- Roteamento de suporte ao cliente ("Isto Ã© faturaÃ§Ã£o ou suporte tÃ©cnico?")
- Workflow de aprovaÃ§Ã£o de conteÃºdo ("Este script passou?")
- ProduÃ§Ã£o de podcast (Ã© exatamente o que estamos a construir!)

### 2. ğŸ¤ Descentralizado (agentes auto-organizados)

Os agentes falam diretamente entre si e resolvem problemas em grupo. Como um chat de grupo onde todos coordenam.

**Vantagens**:
- âœ… FÃ¡cil de escalar (adiciona mais agentes a qualquer momento)
- âœ… Sem ponto Ãºnico de falha
- âœ… ColaboraÃ§Ã£o natural entre agentes

**Ideal para**:
- Equipas de pesquisa (cada agente explora diferentes fontes)
- SessÃµes de brainstorming
- ResoluÃ§Ã£o distribuÃ­da de problemas

### 3. ğŸ”€ HÃ­brido (o melhor dos dois mundos)

Tu defines a direÃ§Ã£o geral, mas os agentes tÃªm liberdade para se auto-organizar nas tarefas. Como um CEO que confia na equipa.

**Perfeito para**: projetos complexos que precisam de controlo e flexibilidade.

## Microsoft Agent Framework: a tua caixa de ferramentas de orquestraÃ§Ã£o ğŸ§°

Ã‰ hora de construir! Eis o que vais usar:

### Componentes principais

#### 1. ğŸ§± Executores (os teus trabalhadores)
- **O que sÃ£o**: unidades de processamento individuais â€” podem ser agentes ou lÃ³gica personalizada
- **O que fazem**: recebem entrada, fazem trabalho, produzem saÃ­da
- **Imagina-os como**: estaÃ§Ãµes numa linha de montagem

#### 2. â¡ï¸ Arestas (ligaÃ§Ãµes)
- **O que sÃ£o**: caminhos entre executores
- **O que fazem**: controlam o fluxo de mensagens ("Depois de A, vai para B")
- **Imagina-os como**: setas num diagrama de fluxo

#### 3. ğŸ—ºï¸ Fluxo de trabalho (plano geral)
- **O que sÃ£o**: o grÃ¡fico completo de executores + arestas
- **O que fazem**: definem todo o processo do inÃ­cio ao fim
- **Imagina-o como**: o teu mapa de produÃ§Ã£o

### Funcionalidades fixes que vais adorar

**ğŸ›¡ï¸ SeguranÃ§a de tipos**: mensagens entre agentes sÃ£o validadas por tipo. Sem surpresas de "oops, dado errado".

**ğŸ”€ Roteamento flexÃ­vel**:
- CondiÃ§Ãµes if-then ("Se aprovado, publica; se nÃ£o, reescreve")
- Processamento paralelo (vÃ¡rios agentes a trabalhar simultaneamente)
- Caminhos dinÃ¢micos (o fluxo ajusta-se aos resultados)

**ğŸ”Œ IntegraÃ§Ãµes externas**:
- Conecta a APIs
- Adiciona pontos de verificaÃ§Ã£o com intervenÃ§Ã£o humana (tu aprovas antes de publicar)
- Cria fluxos pedido/resposta

**ğŸ’¾ Checkpoints**: salva o progresso! Se algo falhar, continuas onde paraste.

**ğŸ¤ CoordenaÃ§Ã£o multi-agentes**:
- Executa agentes em sequÃªncia (A â†’ B â†’ C)
- Executa-os em paralelo (A + B + C ao mesmo tempo)
- Passagem de agentes entre si
- Trabalho colaborativo

## Boas prÃ¡ticas (dicas profissionais) ğŸ¯

### 1. MantÃ©m modularidade
Cada agente deve fazer realmente bem sÃ³ uma coisa. NÃ£o faÃ§as um "super-agente" que faz tudo â€” vais arrepender-te na depuraÃ§Ã£o.

### 2. Planeia para falhas
Agentes falham. Redes caem. Implementa tratamento de erros e planos de contingÃªncia. O teu eu futuro vai agradecer.

### 3. Monitora tudo
Segue o que os teus agentes estÃ£o a fazer. Usa o DevUI (vamos falar disso!) para ver fluxos em execuÃ§Ã£o.

### 4. Otimiza o tamanho das mensagens
NÃ£o passes ficheiros enormes entre agentes. MantÃ©m as mensagens leves para maior velocidade.

### 5. Escolhe o padrÃ£o certo
Queres controlo? Centralizado. Escalabilidade? Descentralizado. Indeciso? HÃ­brido!

## DevUI: o teu depurador de fluxos ğŸ”

### O que Ã© o DevUI?

O DevUI Ã© como um parque de diversÃ£o para testar os teus agentes e fluxos. Ã‰ uma interface web onde podes:
- ğŸ‘€ Ver os teus fluxos em aÃ§Ã£o
- ğŸ’¬ Conversar diretamente com agentes
- ğŸ” Depurar quando as coisas correm mal
- ğŸ“Š Ver traÃ§os e mÃ©tricas de desempenho

> **Importante**: DevUI Ã© sÃ³ para desenvolvimento! NÃ£o uses em produÃ§Ã£o. Pensa-o como o teu ambiente de teste local.

### Por que Ã© tÃ£o fixe

- **ğŸ–¥ï¸ UI Web interativo**: clica, digita, testa â€” sem terminal
- **ğŸ“ Pronto para drag & drop**: carrega ficheiros, testa diferentes entradas
- **ğŸ“‚ Descoberta automÃ¡tica**: aponta para uma pasta e ela encontra todos os agentes
- **ğŸ“‹ Sem necessidade de configuraÃ§Ã£o**: regista agentes no cÃ³digo, nÃ£o precisas de pastas especÃ­ficas
- **ğŸ”Œ CompatÃ­vel com OpenAI**: usa o SDK OpenAI (compatibilidade garantida!)
- **ğŸ‘ï¸ TraÃ§os embutidos**: vÃª exatamente o que os agentes estÃ£o a fazer

### Como as entradas funcionam

O DevUI Ã© inteligente com inputs:

- **A testar agentes?** Recebes caixa de texto e upload de ficheiros
- **A testar fluxos?** O UI gera campos de entrada baseados no que o fluxo espera

Parece magia, mas Ã© sÃ³ cÃ³digo bom. âœ¨

## A tua missÃ£o: construir um estÃºdio de podcast ğŸ¬

### Tarefa 1: Criar um agente Ãºnico usando o DevUI

ğŸ“‚ [01.AgentDevUI](../../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**Desafio**: antes de construir a equipa completa, vamos testar o DevUI com um agente: especialista em pesquisa na internet.

**O que vais construir**:
Um agente de pesquisa que pode procurar na internet temas para podcast. Vais usar a interface web do DevUI em `http://localhost:8090` para testar.

**CompetÃªncias que vais aprender**:
- ğŸš€ Inicializar um agente no DevUI
- ğŸ” Testar respostas do agente em tempo real
- ğŸ› ï¸ Construir ferramentas personalizadas (pesquisa web)
- ğŸ“Š Ativar traÃ§o para depurar problemas
- ğŸ–¥ï¸ Usar a UI web interativa

**CÃ³digo**:
- `agent.py`: o teu SearchAgent com superpoderes de pesquisa na web
- Usa OllamaChatClient para se ligar ao Qwen
- Implementa a funÃ§Ã£o utilitÃ¡ria `web_search()`
- Inicia com `serve()` â€” abre automaticamente o DevUI

**CritÃ©rio de sucesso**: pergunta ao teu agente "Quais sÃ£o as tendÃªncias na Ã¡rea de IA?" e vÃª-o pesquisar na web! ğŸ‰

### Tarefa 2: Construir um fluxo de trabalho multi-agente

ğŸ“‚ [02.WorkflowDevUI](../../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**Desafio**: agora comeÃ§a a diversÃ£o a sÃ©rio! Cria um fluxo completo para produÃ§Ã£o de podcast:
1. ğŸ” **Agente de pesquisa** â†’ investiga o tÃ³pico
2. âœï¸ **Agente de script** â†’ escreve diÃ¡logos entre dois apresentadores (em chinÃªs!)
3. ğŸ‘¤ **Executor de revisÃ£o** â†’ pede a tua aprovaÃ§Ã£o ou rejeiÃ§Ã£o
4. ğŸ”„ **Loop de revisÃ£o** â†’ reescreve baseado no teu feedback se rejeitado

**CompetÃªncias que vais aprender**:
- ğŸ§± Criar agentes especializados para diferentes tarefas
- ğŸ”— Ligar agentes com WorkflowBuilder
- ğŸ”€ Implementar loop de aprovaÃ§Ã£o (human-in-the-loop!)
- ğŸš¦ Roteamento condicional (aprovado vs rejeitado)
- ğŸ”§ Criar executores personalizados para lÃ³gica de negÃ³cio

**Fluxo de trabalho**:
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (å¦‚æœè¢«æ‹’ç»)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**CÃ³digo**:
- `search_agent/agent.py`: o teu especialista em pesquisa
- `generate_script_agent/agent.py`: o teu roteirista (escreve em chinÃªs!)
- `workflow/workflow.py`: onde a magia da orquestraÃ§Ã£o acontece
- `main.py`: inicia tudo no DevUI

**CritÃ©rio de sucesso**: dÃ¡ um tema, revÃª o script, rejeita uma vez para testar o loop, depois aprova! ğŸ‰

### Tarefa 3: Construir uma aplicaÃ§Ã£o de consola

ğŸ“‚ [03.Application](../../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**Desafio**: transforma o teu fluxo do DevUI numa aplicaÃ§Ã£o terminal chique com saÃ­da colorida, spinner e gravaÃ§Ã£o em ficheiro. Isto Ã© coisa para produÃ§Ã£o!

**CompetÃªncias que vais aprender**:
- âš¡ Executar fluxos programaticamente (sem DevUI)
- ğŸ“¡ Usar arquitetura orientada a eventos e streaming
- ğŸ¨ Criar UI terminal bonita (cores, spinners, barras de progresso)
- ğŸ’¾ Salvar o script final num ficheiro
- ğŸ”„ Usar asyncio Python para fluxos assÃ­ncronos

**O que faz**:
1. Pergunta o tema do teu podcast
2. Mostra progresso em tempo real ("Agente de pesquisa estÃ¡ a trabalhar...")
3. Mostra o script gerado com cores
4. Pede a tua aprovaÃ§Ã£o
5. Salva o script aprovado em `podcast.txt`

**CÃ³digo**:
- `podcast_app.py`: a tua app principal com tratamento de eventos
- `workflow.py`: reutiliza o fluxo da tarefa 2
- Manipular eventos: `AgentRunUpdateEvent`ã€`RequestInfoEvent`ã€`WorkflowOutputEvent`
- Usar cores ANSI para estilo de terminal

**CondiÃ§Ã£o de vitÃ³ria**: Execute a aplicaÃ§Ã£o, crie um guiÃ£o para podcast e veja-o ser guardado! JÃ¡ construiu uma ferramenta verdadeira. ğŸš€

## O que jÃ¡ domina ğŸ†

Depois do segundo ato, pode:

- âœ… Orquestrar vÃ¡rios agentes de IA como um chefe
- âœ… Construir workflows com lÃ³gica sequencial e condicional
- âœ… Adicionar pontos de aprovaÃ§Ã£o manual
- âœ… Testar e depurar workflows com DevUI
- âœ… Criar aplicaÃ§Ãµes consola prontas para produÃ§Ã£o
- âœ… Tratar erros com elegÃ¢ncia em sistemas complexos
- âœ… Escolher o padrÃ£o de orquestraÃ§Ã£o certo para qualquer projeto

## Quando as coisas correm mal ğŸ”§

### "O meu workflow Ã© demasiado complexo!"
**SoluÃ§Ã£o**: Divida-o em workflows menores. Cada workflow deve fazer bem uma coisa. Se necessÃ¡rio, ligue-os entre si.

### "NÃ£o consigo acompanhar o que estÃ¡ a acontecer!"
**SoluÃ§Ã£o**: Use checkpoints de workflow para guardar o estado. Ative o rastreio no DevUI para ver cada passo.

### "O erro de um agente derruba tudo!"
**SoluÃ§Ã£o**: Adicione limites de erro. Cada agente deve tratar as suas prÃ³prias falhas e ter comportamentos alternativos.

### "Isto estÃ¡ muito lento"
**SoluÃ§Ã£o**: HÃ¡ agentes que podem correr em paralelo? Workflows sequenciais sÃ£o fÃ¡ceis mas lentos. Procure oportunidades de paralelizaÃ§Ã£o!

## Recursos Ãºteis ğŸ”—

- [DocumentaÃ§Ã£o de workflows](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” Guia oficial da Microsoft  
- [PadrÃµes de orquestraÃ§Ã£o](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” Perspetiva da IBM  
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” Explore o cÃ³digo-fonte  
- [Exemplos de cÃ³digo](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” Roube padrÃµes daqui

---

**Pronto para o grand finale?** JÃ¡ tem o guiÃ£o. Agora vamos transformÃ¡-lo em Ã¡udio real! â†’ [Ato 3: Faz o teu podcast ganhar vida](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Preso? Confuso? Entusiasmado?** Partilhe no chat do workshop! Aprendemos juntos. ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Aviso Legal**:
Este documento foi traduzido utilizando o serviÃ§o de traduÃ§Ã£o automÃ¡tica [Co-op Translator](https://github.com/Azure/co-op-translator). Embora nos esforcemos pela precisÃ£o, por favor tenha em conta que traduÃ§Ãµes automÃ¡ticas podem conter erros ou imprecisÃµes. O documento original na sua lÃ­ngua nativa deve ser considerado a fonte autorizada. Para informaÃ§Ãµes crÃ­ticas, recomenda-se a traduÃ§Ã£o profissional realizada por humanos. NÃ£o nos responsabilizamos por quaisquer mal-entendidos ou interpretaÃ§Ãµes incorretas decorrentes do uso desta traduÃ§Ã£o.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->