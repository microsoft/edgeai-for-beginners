# వర్క్‌షాప్ స్క్రిప్టులు

ఈ డైరెక్టరీ వర్క్‌షాప్ పదార్థాలపై నాణ్యత మరియు సారూప్యతను నిర్వహించడానికి ఉపయోగించే ఆటోమేషన్ మరియు మద్దతు స్క్రిప్టులను కలిగి ఉంది.

## విషయాలు

| ఫైల్ | ఉద్దేశ్యం |
|------|---------|
| `lint_markdown_cli.py` | డిప్రికేటెడ్ Foundry Local CLI కమాండ్ నమూనాలను బ్లాక్ చేయడానికి మార్క్‌డౌన్ కోడ్ ఫెన్సులను లింట్ చేస్తుంది. |
| `export_benchmark_markdown.py` | బహుమోడల్ లేటెన్సీ బెంచ్‌మార్క్ నడిపించి మార్క్‌డౌన్ + JSON నివేదికలను విడుదల చేస్తుంది. |

## 1. మార్క్‌డౌన్ CLI నమూనా లింటర్

`lint_markdown_cli.py` అనువాదం కాని అన్ని `.md` ఫైళ్లలో అనుమతించని Foundry Local CLI నమూనాలను **కోడ్ ఫెన్సులలో** (``` ... ```) స్కాన్ చేస్తుంది. సమాచార ప్రోస్ ఇంకా చారిత్రక సందర్భం కోసం డిప్రికేటెడ్ కమాండ్లను ప్రస్తావించవచ్చు.

### డిప్రికేటెడ్ నమూనాలు (కోడ్ ఫెన్సులలో బ్లాక్ చేయబడినవి)

లింటర్ డిప్రికేటెడ్ CLI నమూనాలను బ్లాక్ చేస్తుంది. ఆధునిక ప్రత్యామ్నాయాలను ఉపయోగించండి.

### అవసరమైన ప్రత్యామ్నాయాలు
| డిప్రికేటెడ్ | బదులుగా ఉపయోగించండి |
|------------|-------------|
| `foundry model chat <a> "..."` | `foundry model run <a> --prompt "..."` |
| `foundry model list --running` | `foundry model list` |
| `foundry model list --cached` | `foundry cache list` |
| `foundry model stats` | బెంచ్‌మార్క్ స్క్రిప్ట్ + సిస్టమ్ టూల్స్ (`Task Manager`, `nvidia-smi`) |
| `foundry model benchmark` | `samples/session03/benchmark_oss_models.py` |
| `foundry model list --available` | `foundry model list` |

### ఎగ్జిట్ కోడ్లు
| కోడ్ | అర్థం |
|------|---------|
| 0 | ఎలాంటి ఉల్లంఘనలు కనుగొనబడలేదు |
| 1 | ఒకటి లేదా అంతకంటే ఎక్కువ డిప్రికేటెడ్ నమూనాలు కనుగొనబడ్డాయి |

### స్థానికంగా నడపడం
రిపోజిటరీ రూట్ నుండి (సిఫార్సు చేయబడింది):

Windows (PowerShell):
```powershell
python Workshop\scripts\lint_markdown_cli.py --verbose
```

macOS / Linux:
```bash
python Workshop/scripts/lint_markdown_cli.py --verbose
```

### ప్రీ-కమిట్ హుక్ (ఐచ్ఛికం)
```bash
echo "python Workshop/scripts/lint_markdown_cli.py" > .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```
ఇది డిప్రికేటెడ్ నమూనాలను పరిచయం చేసే కమిట్లను బ్లాక్ చేస్తుంది.

### CI ఇంటిగ్రేషన్
GitHub Action వర్క్‌ఫ్లో (`.github/workflows/markdown-cli-lint.yml`) ప్రతి పుష్ మరియు పుల్ రిక్వెస్ట్ పై `main` మరియు `Reactor` బ్రాంచ్లకు లింటర్ నడుపుతుంది. విఫలమైన జాబ్స్ విలీనం చేసేముందు సరిచేయాలి.

### కొత్త డిప్రికేటెడ్ నమూనాలు జోడించడం
1. `lint_markdown_cli.py` ను తెరవండి.
2. `DEPRECATED` జాబితాలో ఒక టుపుల్ `(regex, suggestion)` జోడించండి. రా స్ట్రింగ్ ఉపయోగించి అవసరమైన చోట `\b` పద సరిహద్దులను చేర్చండి.
3. గుర్తింపు కోసం స్థానికంగా లింటర్ నడపండి.
4. కమిట్ చేసి పుష్ చేయండి; CI కొత్త నియమాన్ని అమలు చేస్తుంది.

ఉదాహరణ జోడింపు:
```python
DEPRECATED.append((r"\\bfoundry\\s+experimental\\s+foo\\b", "Remove experimental foo usage"))
```

### వివరణాత్మక ప్రస్తావనలకు అనుమతి
కేవలం కోడ్ ఫెన్సులు అమలు చేయబడుతున్నందున, మీరు డిప్రికేటెడ్ కమాండ్లను కథనంలో సురక్షితంగా వివరించవచ్చు. మీరు వాటిని తేడా చూపించడానికి ఫెన్స్ లో చూపించాల్సి ఉంటే, త్రిపుల్ బ్యాక్టిక్స్ లేకుండా (ఉదా: ఇన్డెంట్ లేదా కోట్) ఫెన్స్ బ్లాక్ జోడించండి లేదా ప్సూడో రూపంలో తిరిగి రాయండి.

### నిర్దిష్ట ఫైళ్లను స్కిప్ చేయడం (అధునాతన)
అవసరమైతే, లెగసీ ఉదాహరణలను రిపో బయట వేరే ఫైల్‌లో ఉంచండి లేదా డ్రాఫ్టింగ్ సమయంలో వేరే ఎక్స్‌టెన్షన్‌తో పేరు మార్చండి. అనువాద కాపీల కోసం ఉద్దేశపూర్వక స్కిప్స్ ఆటోమేటిక్ (పాథ్‌లలో `translations` ఉంటే).

### సమస్య పరిష్కారం
| సమస్య | కారణం | పరిష్కారం |
|-------|-------|-----------|
| మీరు నవీకరించిన లైన్‌ను లింటర్ ఫ్లాగ్ చేస్తుంది | రెగ్యులర్ ఎక్స్‌ప్రెషన్ చాలా విస్తృతం | అదనపు పద సరిహద్దు (`\b`) లేదా యాంకర్లతో నమూనాను సన్నగా చేయండి |
| CI విఫలమవుతుంది కానీ స్థానికంగా పాస్ అవుతుంది | వేరే Python వెర్షన్ లేదా కమిట్ కాని మార్పులు | స్థానికంగా మళ్లీ నడపండి, శుభ్రమైన వర్కింగ్ ట్రీ నిర్ధారించండి, వర్క్‌ఫ్లో Python వెర్షన్ (3.11) తనిఖీ చేయండి |
| తాత్కాలికంగా బైపాస్ చేయాలి | అత్యవసర హాట్‌ఫిక్స్ | వెంటనే సరిచేయండి; తాత్కాలిక బ్రాంచ్ మరియు ఫాలో-అప్ PR ఉపయోగించండి (బైపాస్ స్విచ్‌లు జోడించవద్దు) |

### కారణం
ప్రస్తుత స్థిర CLI ఉపరితలంతో డాక్యుమెంటేషన్ సరిచేయడం వర్క్‌షాప్ ఘర్షణను నివారిస్తుంది, అభ్యాసకుల గందరగోళాన్ని తగ్గిస్తుంది, మరియు CLI సబ్‌కమాండ్లలో తేలియాడకుండా నిర్వహించబడే Python స్క్రిప్టుల ద్వారా పనితీరు కొలతను కేంద్రీకృతం చేస్తుంది.

---
వర్క్‌షాప్ నాణ్యత టూల్‌చైన్ భాగంగా నిర్వహించబడుతుంది. మెరుగుదలలకు (ఉదా: ఆటో-ఫిక్సింగ్ సూచనలు లేదా HTML నివేదిక ఉత్పత్తి) ఒక ఇష్యూ తెరవండి లేదా PR సమర్పించండి.

## 2. నమూనా ధృవీకరణ స్క్రిప్ట్

`validate_samples.py` అన్ని Python నమూనా ఫైళ్లను సింటాక్స్, ఇంపోర్ట్స్ మరియు ఉత్తమ ఆచరణల అనుగుణత కోసం ధృవీకరిస్తుంది.

### ఉపయోగం
```bash
# అన్ని నమూనాలను ధృవీకరించండి
python scripts/validate_samples.py

# నిర్దిష్ట సెషన్‌ను ధృవీకరించండి
python scripts/validate_samples.py --session 01

# విస్తృత మోడ్ (ఉత్తమ ఆచరణ హెచ్చరికలను కలిగి ఉంటుంది)
python scripts/validate_samples.py --verbose

# సారాంశం మాత్రమే
python scripts/validate_samples.py --summary
```

### ఇది ఏమి తనిఖీ చేస్తుంది
- ✅ Python సింటాక్స్ చెల్లుబాటు
- ✅ అవసరమైన ఇంపోర్ట్స్ ఉన్నాయా
- ✅ లోపాల నిర్వహణ అమలు (వర్బోస్ మోడ్)
- ✅ టైప్ హింట్స్ ఉపయోగం (వర్బోస్ మోడ్)
- ✅ ఫంక్షన్ డాక్స్ట్రింగ్స్ (వర్బోస్ మోడ్)
- ✅ SDK సూచన లింకులు (వర్బోస్ మోడ్)

### పర్యావరణ వేరియబుల్స్
- `SKIP_IMPORT_CHECK=1` - ఇంపోర్ట్ ధృవీకరణను స్కిప్ చేయండి
- `SKIP_SYNTAX_CHECK=1` - సింటాక్స్ ధృవీకరణను స్కిప్ చేయండి

### ఎగ్జిట్ కోడ్లు
- `0` - అన్ని నమూనాలు ధృవీకరణలో ఉత్తీర్ణమయ్యాయి
- `1` - ఒకటి లేదా అంతకంటే ఎక్కువ నమూనాలు విఫలమయ్యాయి

## 3. నమూనా టెస్ట్ రన్నర్

`test_samples.py` అన్ని నమూనాలపై స్మోక్ టెస్టులను నడిపించి అవి లోపాలేకుండా నడుస్తున్నాయా అని నిర్ధారిస్తుంది.

### ఉపయోగం
```bash
# అన్ని నమూనాలను పరీక్షించండి
python scripts/test_samples.py

# నిర్దిష్ట సెషన్‌ను పరీక్షించండి
python scripts/test_samples.py --session 01

# త్వరిత మోడ్ (చిన్న సమయ పరిమితులు)
python scripts/test_samples.py --quick

# వివరమైన మోడ్ (ఫలితాన్ని చూపించు)
python scripts/test_samples.py --verbose
```

### ముందస్తు అవసరాలు
- Foundry Local సర్వీస్ నడుస్తోంది: `foundry service start`
- మోడల్స్ లోడ్ అయ్యాయి: `foundry model run phi-4-mini`
- డిపెండెన్సీలు ఇన్‌స్టాల్ అయ్యాయి: `pip install -r requirements.txt`

### ఇది ఏమి పరీక్షిస్తుంది
- ✅ నమూనా రన్‌టైమ్ లోపాలేకుండా నడుస్తుందా
- ✅ అవసరమైన అవుట్‌పుట్ ఉత్పత్తి అవుతుందా
- ✅ విఫలమైతే సరైన లోప నిర్వహణ
- ✅ పనితీరు (నడిచే సమయం)

### పర్యావరణ వేరియబుల్స్
- `FOUNDRY_LOCAL_ALIAS=phi-4-mini` - పరీక్ష కోసం ఉపయోగించే మోడల్
- `TEST_TIMEOUT=30` - ప్రతి నమూనాకు సెకన్లలో టైమౌట్

### ఆశించిన విఫలములు
ఒకటి లేదా అంతకంటే ఎక్కువ టెస్టులు ఆప్షనల్ డిపెండెన్సీలు ఇన్‌స్టాల్ కానప్పుడు విఫలమవచ్చు (ఉదా: `ragas`, `sentence-transformers`). ఇన్‌స్టాల్ చేయడానికి:
```bash
pip install sentence-transformers ragas datasets
```

### ఎగ్జిట్ కోడ్లు
- `0` - అన్ని టెస్టులు ఉత్తీర్ణమయ్యాయి
- `1` - ఒకటి లేదా అంతకంటే ఎక్కువ టెస్టులు విఫలమయ్యాయి

## 4. బెంచ్‌మార్క్ మార్క్‌డౌన్ ఎగ్జిపోర్టర్

స్క్రిప్ట్: `export_benchmark_markdown.py`

మోడల్స్ సెట్ కోసం పునరుత్పాదక పనితీరు పట్టికను సృష్టిస్తుంది.

### ఉపయోగం
```powershell
python Workshop\scripts\export_benchmark_markdown.py --models "qwen2.5-0.5b" --prompt "Explain retrieval augmented generation briefly." --rounds 3 --output benchmark_report.md
```

### అవుట్‌పుట్లు
| ఫైల్ | వివరణ |
|------|-------------|
| `benchmark_report.md` | మార్క్‌డౌన్ పట్టిక (సగటు, p95, టోకెన్లు/సెకను, ఐచ్ఛిక మొదటి టోకెన్) |
| `benchmark_report.json` | తేడా మరియు చరిత్ర కోసం రా మెట్రిక్స్ అర్రే |

### ఎంపికలు
| ఫ్లాగ్ | వివరణ | డిఫాల్ట్ |
|------|-------------|---------|
| `--models` | కామా విడదీసిన మోడల్ అలియాసులు | (అవసరం) |
| `--prompt` | ప్రతి రౌండ్‌లో ఉపయోగించే ప్రాంప్ట్ | (అవసరం) |
| `--rounds` | ప్రతి మోడల్‌కు రౌండ్లు | 3 |
| `--output` | మార్క్‌డౌన్ అవుట్‌పుట్ ఫైల్ | `benchmark_report.md` |
| `--json` | JSON అవుట్‌పుట్ ఫైల్ | `benchmark_report.json` |
| `--fail-on-empty` | అన్ని బెంచ్‌మార్కులు విఫలమైతే నాన్-జీరో ఎగ్జిట్ | ఆఫ్ |

పర్యావరణ వేరియబుల్ `BENCH_STREAM=1` మొదటి టోకెన్ లేటెన్సీ కొలతను జోడిస్తుంది.

### గమనికలు
- సారూప్య మోడల్ బూట్‌స్ట్రాప్ & క్యాచింగ్ కోసం `workshop_utils` ను పునర్వినియోగం చేస్తుంది.
- వేరే వర్కింగ్ డైరెక్టరీ నుండి నడిపితే, స్క్రిప్ట్ `workshop_utils` ను కనుగొనడానికి పాథ్Fallbacks ప్రయత్నిస్తుంది.
- GPU పోలిక కోసం: ఒకసారి నడపండి, CLI కాన్ఫిగ్ ద్వారా వేగవంతం చేయండి, మళ్లీ నడపండి మరియు JSON తేడాను చూడండి.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**అస్పష్టత**:  
ఈ పత్రాన్ని AI అనువాద సేవ [Co-op Translator](https://github.com/Azure/co-op-translator) ఉపయోగించి అనువదించబడింది. మేము ఖచ్చితత్వానికి ప్రయత్నించినప్పటికీ, ఆటోమేటెడ్ అనువాదాల్లో పొరపాట్లు లేదా తప్పిదాలు ఉండవచ్చు. మూల పత్రం దాని స్వదేశీ భాషలో అధికారిక మూలంగా పరిగణించాలి. ముఖ్యమైన సమాచారానికి, ప్రొఫెషనల్ మానవ అనువాదం సిఫార్సు చేయబడుతుంది. ఈ అనువాదం వాడకంలో ఏర్పడిన ఏవైనా అపార్థాలు లేదా తప్పుదారితీసే అర్థాలు కోసం మేము బాధ్యత వహించము.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->