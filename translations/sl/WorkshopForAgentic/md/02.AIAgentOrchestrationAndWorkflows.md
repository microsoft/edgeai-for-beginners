# 2. dejanje: Zberite svojo produkcijsko ekipo za podcast ğŸ¬

![lab2](../../../../translated_images/sl/lab2.48444b9d549e7863.webp)

## Zgodba se zapleta

Alex (vaÅ¡ AI pomoÄnik iz 1. dejanja) je super, vendar en agent ne more voditi celotnega podcast studia. Potrebujete *ekipo*:
- ğŸ” **Raziskovalni agent**: PreiÅ¡Äe internet po sveÅ¾ih informacijah
- âœï¸ **Agent za scenarij**: Pretvori raziskave v zanimiv dialog
- ğŸ‘¤ **Vi (Urejevalec)**: Potrjujete scenarije ali jih vraÄate nazaj na popravke

DobrodoÅ¡li v **orkestracijo AI agentov** â€” kjer postanete reÅ¾iser lastne AI ekipe. Pomislite na MaÅ¡Äevalce, ampak za produkcijo podcastov.

## Kaj je orkestracija agentov? (poenostavljena razliÄica)

Predstavljajte si, da vodite restavracijo. Ne delate vsega sami, kajne? Imate:
- ğŸ³ kuharja, ki kuha
- ğŸ‘¨â€ğŸ³ pomoÄnika kuharja, ki pripravlja
- ğŸ‘©â€ğŸ³ natakarja, ki dostavlja

Orkestracija agentov je ista zamisel, a z AI. Vsak agent ima svojo specialnost, vi pa jih usklajujete, da doseÅ¾ejo veÄje cilje. Noben agent ni preobremenjen, delo pa poteka hitreje.

### Analogi band ğŸ¸

VaÅ¡i AI agenti so kot glasbena skupina:
- **Glavni pevec**: glavni agent, ki skrbi za stike s strankami
- **Baterist**: drÅ¾i ritem, upravlja ozadje  
- **Basist**: podpira vse, priskrbi podatke
- **Vi (manager skupine)**: usklajujete vse!

Brez usklajevanja? Sam hrup. Z orkestracijo? ÄŒudovita glasba.

### Zakaj je to pomembno

Poskus enega AI agenta, da naredi vse = izgorelost. Specializirani agenti, ki sodelujejo = odkrita uÄinkovitost! ğŸš€

**ResniÄna situacija**: Se spomnite, kako ste poskuÅ¡ali sami raziskovati, pisati IN urejati podcast? Ja, to je grozno. Z orkestracijo vsak agent naredi, kar zna najbolje. Vi pa sprejmete konÄne odloÄitve.

**Primer iz resniÄnega sveta**: Boti za podporo strankam, ki vedo, kdaj reÅ¡iti vpraÅ¡anja za obraÄun, kdaj tehniÄne teÅ¾ave in kdaj poklicati Äloveka. To je orkestracija!

## Agent vs. potek dela: kakÅ¡na je razlika?

Predstavljajte si tako:

### ğŸ¤– AI Agent = jazz glasbenik
- **Sprejema odloÄitve sproti** glede na to, kar sliÅ¡i
- **Improvizira** reÅ¡itve s svojimi orodji
- **RazmiÅ¡lja** z moÅ¾gani LLM
- **Prilagaja se** na karkoli mu daste

### ğŸµ Potek dela = orkester, ki igra klasiÄno glasbo  
- **Sledi notam** (vnaprej doloÄenim korakom)
- **Predvidljivo** izvajanje
- **Usklajuje** veÄ agentov, ljudi, sistemov
- **Strukturirano** kot recept

**Magija**: poteki dela *orkestrirajo* agente! Zgradite potek dela, ki agentom pove, kdaj naj igrajo svojo vlogo. NajboljÅ¡e iz obeh svetov. ğŸ­

## Trije naÄini za usklajevanje vaÅ¡e AI ekipe

### 1. ğŸ¯ Centralizirano (Vi ste Å¡ef)

En glavni agent vodi vse odloÄitve. Predstavljajte si, da upravljate ekipo â€” vi odloÄate kdo kaj in kdaj dela.

**Prednosti**:
- âœ… Jasno vodenje (brez zmede)
- âœ… Dosledne odloÄitve
- âœ… Enostavno odkrivanje napak

**Uporaba**:
- Usmerjanje sluÅ¾be za podporo strankam ("Je to obraÄun ali tehniÄna podpora?")
- Poteki odobritve vsebin ("Ali je ta scenarij sprejemljiv?")
- Produkcija podcasta (prav to, kar gradimo!)

### 2. ğŸ¤ Decentralizirano (Agenti se sami organizirajo)

Agenti komunicirajo neposredno med seboj in skupaj reÅ¡ujejo stvari. Kot skupinski klepet, kjer se vsi usklajujejo.

**Prednosti**:
- âœ… Enostavno razÅ¡irjanje (dodate lahko veÄ agentov kadarkoli)
- âœ… Brez enotne toÄke okvare
- âœ… Agenti sodelujejo naravno

**Uporaba**:
- Raziskovalne skupine (vsak agent raziskuje razliÄne vire)
- Brainstorming seje
- RazprÅ¡eno reÅ¡evanje problemov

### 3. ğŸ”€ Hibridno (NajboljÅ¡e iz obeh svetov)

DoloÄite sploÅ¡no smer, a agenti imajo svobodo pri samozorganizaciji nalog. Kot direktor, ki zaupa svoji ekipi.

**Popolno za**: Kompleksne projekte, ki potrebujejo tako nadzor kot fleksibilnost.

## Microsoft Agent Framework: VaÅ¡a orodja za orkestracijo ğŸ§°

ÄŒas za gradnjo! To boste uporabili:

### Gradniki

#### 1. ğŸ§± Izvajalci (vaÅ¡i delavci)
- **Kaj so**: Posamezne enote za obdelavo â€” lahko agenti ali prilagojena logika
- **Kaj delajo**: Sprejmejo vhod, opravijo delo, proizvedejo izhod
- **Predstavljajte si jih kot**: Postaje v produkcijski liniji

#### 2. â¡ï¸ Povezave (prikljuÄki)
- **Kaj so**: Poti med izvajalci
- **Kaj delajo**: Nadzorujejo pretok sporoÄil ("Po A pojdi na B")
- **Predstavljajte si jih kot**: PuÅ¡Äice na diagramu poteka

#### 3. ğŸ—ºï¸ Poteki dela (glavni naÄrt)
- **Kaj so**: Celoten graf izvajalcev + povezav
- **Kaj delajo**: DoloÄa celoten postopek od zaÄetka do konca
- **Predstavljajte si jih kot**: NaÄrt proizvodne linije

### Kul funkcije, ki vam bodo vÅ¡eÄ

**ğŸ›¡ï¸ Tipna varnost**: SporoÄila med agenti so preverjena glede tipa. Brez neprijetnih preseneÄenj "Ups, napaÄen tip podatka".

**ğŸ”€ Fleksibilno usmerjanje**: 
- Pogoji Äe-potem ("ÄŒe je potrjeno, objavi; drugaÄe prepiÅ¡i")
- Paralelna obdelava (veÄ agentov dela hkrati)
- DinamiÄne poti (potek dela se prilagaja glede na rezultate)

**ğŸ”Œ Zunanja integracija**:
- Povezava z API-ji
- Dodajanje kontrolnih toÄk s Älovekom v zanki (vi potrjujete pred objavo)
- Gradnja potekov zahteve/odgovora

**ğŸ’¾ Vzporedne toÄke**: Shrani napredek! ÄŒe kaj crkne, zaÄni tam, kjer si konÄal.

**ğŸ¤ Koordinacija veÄ agentov**:
- ZaÅ¾enite agente zaporedno (A â†’ B â†’ C)
- ZaÅ¾enite jih vzporedno (A + B + C hkrati)
- Predajanje med agenti
- Sodelovalna obdelava

## NajboljÅ¡e prakse (pro nasveti) ğŸ¯

### 1. Naj bo modularno
Vsak agent naj dela ENO stvar res dobro. Ne naredite "super agenta", ki dela vse â€” obÅ¾alovali boste pri odpravljanju napak.

### 2. NaÄrtujte za napake
Agenti poÄnejo napake. OmreÅ¾ja odpovedo. VkljuÄite ravnanje z napakami in rezervne naÄrte. VaÅ¡ prihodnji jaz vam bo hvaleÅ¾en.

### 3. Spremljajte vse
Spremljajte, kaj agenti poÄnejo. Uporabite DevUI (to bomo pokrili!) za ogled potekov dela v akciji.

### 4. Optimizirajte velikost sporoÄil
Ne poÅ¡iljajte velikih datotek med agente. SporoÄila naj bodo lahka in hitra.

### 5. Izberite pravi vzorec
Potrebujete nadzor? Izberite centralizirano. Potrebujete Å¡iritev? Decentralizirano. Ne morete se odloÄiti? Hibridno!

## DevUI: vaÅ¡ razhroÅ¡Äevalnik potekov dela ğŸ”

### Kaj je DevUI?

DevUI je kot igralnica za testiranje vaÅ¡ih agentov in potekov dela. To je spletni vmesnik, kjer lahko:
- ğŸ‘€ spremljate potek dela v akciji
- ğŸ’¬ klepetate z agenti neposredno
- ğŸ” razhroÅ¡Äujete, ko kaj ne gre
- ğŸ“Š vidite sledove in metrike uÄinkovitosti

> **Pomembno**: DevUI je samo za razvoj! Ne uporabljajte v produkciji. Predstavljajte si ga kot lokalno testno okolje.

### Zakaj je super

- **ğŸ–¥ï¸ Interaktivni spletni UI**: Klikajte, tipkajte, testirajte â€” brez ukazne vrstice
- **ğŸ“ Pripravljeno za povleci-in-spusti**: NaloÅ¾ite datoteke, testirajte z razliÄnimi vhodi
- **ğŸ“‚ Samodejna zaznava**: Usmerite ga na mapo, sam najde vse vaÅ¡e agente
- **ğŸ“‹ Brez-nastavitve naÄin**: Registrirajte agente v kodi, mapa ni potrebna
- **ğŸ”Œ ZdruÅ¾ljiv z OpenAI**: Deluje z OpenAI SDK (zdruÅ¾ljivost FTW!)
- **ğŸ‘ï¸ Sledenje vgrajeno**: Vidite toÄno, kaj agenti poÄnejo

### Kako deluje vhod

DevUI je pameten glede vhodov:

- **Testirate agente?** Dobite polja za besedilo in gumbe za nalaganje datotek
- **Testirate poteke dela?** UI samodejno ustvari vhodna polja glede na priÄakovanja vaÅ¡ega poteka dela

Je kot Äarovnija, a je samo dobra koda. âœ¨

## VaÅ¡e naloge: zgradite podcast studio ğŸ¬

### Naloga 1: Ustvarite enega agenta z DevUI

ğŸ“‚ [01.AgentDevUI](../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**Izziv**: Preden sestavimo celotno ekipo, testirajmo DevUI z enim agentom: specialistom za spletno iskanje.

**Kaj gradite**:  
Agenta za raziskave, ki lahko iÅ¡Äe po internetu teme za podcast. Testirali ga boste preko spletnega vmesnika DevUI na `http://localhost:8090`.

**Spretnosti, ki se jih nauÄite**:
- ğŸš€ Zagon agentov v DevUI
- ğŸ” Testiranje odzivov agenta v realnem Äasu
- ğŸ› ï¸ Gradnja lastnih orodij (spletno iskanje)
- ğŸ“Š OmogoÄanje sledenja za razhroÅ¡Äevanje
- ğŸ–¥ï¸ Uporaba interaktivnega spletnega UI-ja

**Koda**:
- `agent.py`: vaÅ¡ SearchAgent s supermoÄmi spletnega iskanja
- Uporablja OllamaChatClient za povezavo z Qwen
- Vpeljana funkcija orodja `web_search()`
- ZaÅ¾enete z `serve()` â€” DevUI se odpre samodejno

**Pogoj zmage**: VpraÅ¡ajte agenta "Kaj je trenutno v trendu v AI?" in opazujte spletno iskanje! ğŸ‰

### Naloga 2: Zgradite veÄagentni potek dela

ğŸ“‚ [02.WorkflowDevUI](../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**Izziv**: Sedaj se zabava zaÄne! Zgradite popoln potek produkcije podcasta z:
1. ğŸ” **Agent iskanja** â†’ raziskuje vaÅ¡o temo
2. âœï¸ **Agent za scenarij** â†’ napiÅ¡e dialog med dvema gostiteljema (v kitajÅ¡Äini!)
3. ğŸ‘¤ **Izvajalec pregleda** â†’ vpraÅ¡a VAS za potrditev ali zavrnitev
4. ğŸ”„ **Povratna zanka** â†’ Äe je zavrnjeno, prepiÅ¡e na podlagi vaÅ¡ih povratnih informacij

**Spretnosti, ki se jih nauÄite**:
- ğŸ§± Ustvarjanje specializiranih agentov za razliÄna opravila
- ğŸ”— Povezovanje agentov z WorkflowBuilder
- ğŸ”€ Izvajanje zank odobritve (Älovek v zanki!)
- ğŸš¦ Pogoji usmerjanja (Äe je odobreno v primerjavi z zavrnitvijo)
- ğŸ”§ Gradnja izvajalcev za poslovno logiko po meri

**Potek dela**:
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (if rejected)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**Koda**:
- `search_agent/agent.py`: vaÅ¡ specialist za raziskave
- `generate_script_agent/agent.py`: vaÅ¡ pisec scenarijev (piÅ¡e v kitajÅ¡Äini!)
- `workflow/workflow.py`: orkestracijska magija tukaj
- `main.py`: vse zaÅ¾ene v DevUI

**Pogoj zmage**: Dajte temo, preglejte scenarij, enkrat zavrnite za testiranje zanke, nato potrdite! ğŸ‰

### Naloga 3: Zgradite konzolno aplikacijo

ğŸ“‚ [03.Application](../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**Izziv**: Vzemite svoj potek dela iz DevUI in ga spremenite v elegantno terminalsko aplikacijo z barvnim izpisom, vrtljivimi indikatorji nalaganja in shranjevanjem datotek. To je pripravljeno za produkcijo!

**Spretnosti, ki se jih nauÄite**:
- âš¡ Zagon potekov dela programsko (brez DevUI)
- ğŸ“¡ Dogodkovno usmerjena arhitektura s pretakanjem
- ğŸ¨ Ustvarjanje lepih terminalskih UI-jev (barve, vrtiljaki, napredne vrstice)
- ğŸ’¾ Shranjevanje konÄnih scenarijev v datoteke
- ğŸ”„ Upravljanje asinhronih potekov z Python asyncio

**Kaj aplikacija poÄne**:
1. VpraÅ¡ajte vas za temo podcasta
2. PrikaÅ¾e napredek v realnem Äasu ("Agent iskanja dela...")
3. PrikaÅ¾e generiran scenarij z barvami
4. VpraÅ¡a za potrditev
5. Shrani potrjen scenarij v `podcast.txt`

**Koda**:
- `podcast_app.py`: vaÅ¡a glavna aplikacija z upravljanjem dogodkov
- `workflow.py`: ponovno uporabi potek dela iz Naloge 2
- Obvladuje dogodke: `AgentRunUpdateEvent`, `RequestInfoEvent`, `WorkflowOutputEvent`
- Uporablja ANSI barve za stil terminala

**Pogoj zmage**: ZaÅ¾enite aplikacijo, ustvarite podcast scenarij in si oglejte, kako je shranjen! Zgradili ste pravo orodje. ğŸš€

## Kaj ste osvojili ğŸ†

Po 2. dejanju znate:

- âœ… Orkestrirati veÄ AI agentov kot Å¡ef
- âœ… Graditi poteke dela z zaporedno in pogojno logiko
- âœ… Dodajati kontrolne toÄke odobritve s Älovekom
- âœ… Uporabljati DevUI za testiranje in odpravljanje napak potekov dela
- âœ… Ustvarjati produkcijsko pripravljene konzolne aplikacije
- âœ… Pravilno obvladovati napake v kompleksnih sistemih
- âœ… Izbrati pravi vzorec orkestracije za kateri koli projekt

## Ko se stvari pokvarijo ğŸ”§

### "Moj potek dela je preveÄ zapleten!"
**Popravek**: Razdelite ga na manjÅ¡e pod-poteke. Vsak potek dela naj dela ENO stvar dobro. Po potrebi jih poveÅ¾ite skupaj.

### "Ne morem slediti, kaj se dogaja!"
**Popravek**: Uporabite shranjevanje stanja poteka dela. OmogoÄite sledenje v DevUI, da vidite vsak korak.

### "Napaka enega agenta zruÅ¡i vse!"
**Popravek**: Dodajte meje za napake. Vsak agent naj obvlada svoje napake in ima rezervne naÄine delovanja.

### "To je tako poÄasi"
**Popravek**: Lahko kateri agenti delajo vzporedno? Zaporedni poteki so enostavni, a poÄasni. PoiÅ¡Äite priloÅ¾nosti za paralelizacijo!

## Koristni viri ğŸ”—

- [Dokumentacija Workflow](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” uradne Microsoftove smernice
- [Vzorec orkestracije](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” IBM-ov pogled na to
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” oglejte si izvorno kodo
- [Primeri kode](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” Tukaj si sposodi vzorce

---

**Pripravljeni na finale?** Imate svoj skript. Zdaj pa ga spremenimo v dejansko avdio! â†’ [3. Äin: OÅ¾ivite svoj podcast](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Blokirani? Zmedeni? NavduÅ¡eni?** Delite v klepetu delavnice! Vsi se skupaj uÄimo. ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Omejitev odgovornosti**:
Ta dokument je bil preveden z uporabo AI prevajalske storitve [Co-op Translator](https://github.com/Azure/co-op-translator). ÄŒeprav si prizadevamo za natanÄnost, vas opozarjamo, da avtomatizirani prevodi lahko vsebujejo napake ali netoÄnosti. Izvirni dokument v izvorni jeziku velja za avtoritativni vir. Za pomembne informacije priporoÄamo strokovni ÄloveÅ¡ki prevod. Ne odgovarjamo za morebitna nesporazume ali napaÄne interpretacije, ki izhajajo iz uporabe tega prevoda.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->