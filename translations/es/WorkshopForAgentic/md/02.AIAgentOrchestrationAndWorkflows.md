# Acto 2: ReÃºne a Tu Equipo de ProducciÃ³n de Podcast ğŸ¬

![lab2](../../../../translated_images/es/lab2.48444b9d549e7863.webp)

## La Trama se Complica

Alex (tu asistente de IA del Acto 1) es increÃ­ble, pero un solo agente no puede manejar todo un estudio de podcast. Necesitas un *equipo*:
- ğŸ” **Agente de InvestigaciÃ³n**: Revisa internet para encontrar informaciÃ³n fresca
- âœï¸ **Agente de Guion**: Convierte la investigaciÃ³n en diÃ¡logos atractivos
- ğŸ‘¤ **TÃº (El Editor)**: Apruebas guiones o los devuelves para reescrituras

Bienvenido a la **OrquestaciÃ³n de Agentes IA** â€” donde te conviertes en el director de tu propio equipo de IA. Piensa en Los Vengadores, pero para la producciÃ³n de podcasts.

## Â¿QuÃ© es la OrquestaciÃ³n de Agentes? (VersiÃ³n Simple)

Imagina que tienes un restaurante. No haces todo tÃº mismo, Â¿verdad? Tienes:
- ğŸ³ Un chef que cocina
- ğŸ‘¨â€ğŸ³ Un sous chef que prepara
- ğŸ‘©â€ğŸ³ Un camarero que entrega

La orquestaciÃ³n de agentes es la misma idea, pero con IA. Cada agente tiene una especialidad, y tÃº los coordinas para lograr objetivos mayores. NingÃºn agente queda abrumado y el trabajo se hace mÃ¡s rÃ¡pido.

### La AnalogÃ­a de la Banda ğŸ¸

Tus agentes de IA son como una banda:
- **Vocalista principal**: El agente principal que maneja tareas de cara al cliente
- **Baterista**: Mantiene el ritmo, maneja procesos en segundo plano  
- **Bajista**: Apoya a todos, obtiene datos
- **TÃº (Manager de la banda)**: Â¡Coordina todo!

Â¿Sin coordinaciÃ³n? Solo ruido. Â¿Con orquestaciÃ³n? MÃºsica hermosa.

### Por QuÃ© Importa

Un agente de IA intentando hacer todo = agotamiento. Agentes especializados trabajando juntos = eficiencia desbloqueada! ğŸš€

**Hablemos claro**: Â¿Recuerdas tratar de investigar, escribir Y editar tu podcast solo? SÃ­, eso apesta. Con orquestaciÃ³n, cada agente maneja lo que mejor sabe hacer. TÃº solo tomas las decisiones finales.

**Ejemplo en el mundo real**: Bots de soporte al cliente que saben cuÃ¡ndo manejar facturaciÃ³n vs. problemas tÃ©cnicos vs. cuÃ¡ndo llamar a un humano. Eso es orquestaciÃ³n.

## Agente vs. Flujo de trabajo: Â¿CuÃ¡l es la diferencia?

PiÃ©nsalo asÃ­:

### ğŸ¤– Agente de IA = MÃºsico de Jazz  
- **Toma decisiones al instante** segÃºn lo que escucha  
- **Improvisa** soluciones usando sus herramientas  
- **Piensa** con un cerebro LLM  
- **Se adapta** a cualquier escenario que le presentes  

### ğŸµ Flujo de trabajo = Orquesta tocando mÃºsica clÃ¡sica  
- **Sigue una partitura** (pasos predefinidos)  
- **Ruta de ejecuciÃ³n** predecible   
- **Coordina** mÃºltiples agentes, humanos y sistemas  
- **Estructurado** como una receta  

**La magia**: Â¡Los flujos *orquestan* a los agentes! Creas un flujo que dice a los agentes cuÃ¡ndo deben tocar su parte. Lo mejor de ambos mundos. ğŸ­

## Tres maneras de coordinar a tu equipo de IA

### 1. ğŸ¯ Centralizado (TÃº eres el jefe)

Un agente principal toma todas las decisiones. Piensa en ello como ti manejando un equipo â€” tÃº decides quiÃ©n hace quÃ© y cuÃ¡ndo.

**Pros**:
- âœ… Liderazgo claro (sin confusiÃ³n)  
- âœ… Decisiones consistentes  
- âœ… FÃ¡cil de depurar  

**Ãšsalo para**:  
- Ruteo de servicio al cliente ("Â¿Esto es facturaciÃ³n o soporte tÃ©cnico?")  
- Flujos de aprobaciÃ³n de contenido ("Â¿Pasa este guion?")  
- ProducciÃ³n de podcasts (Â¡justo lo que estamos construyendo!)  

### 2. ğŸ¤ Descentralizado (Los agentes se autoorganizan)

Los agentes hablan directamente entre sÃ­ y resuelven las cosas como grupo. Como un chat grupal donde todos coordinan.

**Pros**:  
- âœ… Escala fÃ¡cilmente (aÃ±ade mÃ¡s agentes en cualquier momento)  
- âœ… Sin un punto Ãºnico de falla  
- âœ… Los agentes colaboran naturalmente  

**Ãšsalo para**:  
- Equipos de investigaciÃ³n (cada agente explora fuentes distintas)  
- Sesiones de lluvia de ideas  
- ResoluciÃ³n distribuida de problemas  

### 3. ğŸ”€ HÃ­brido (Lo mejor de ambos mundos)

TÃº defines la direcciÃ³n general, pero los agentes tienen libertad para organizarse en tareas. Como ser un CEO que confÃ­a en su equipo.

**Perfecto para**: Proyectos complejos que necesitan control y flexibilidad.

## Microsoft Agent Framework: Tu kit de herramientas para orquestaciÃ³n ğŸ§°

Â¡Hora de construir! Esto es lo que usarÃ¡s:

### Los Bloques Constructores

#### 1. ğŸ§± Ejecutores (Tus trabajadores)
- **QuÃ© son**: Unidades individuales de procesamiento â€” pueden ser agentes o lÃ³gica personalizada  
- **QuÃ© hacen**: Reciben entrada, trabajan, producen salida  
- **PiÃ©nsalos como**: Estaciones en una lÃ­nea de ensamblaje  

#### 2. â¡ï¸ Bordes (Las conexiones)
- **QuÃ© son**: Rutas entre ejecutores  
- **QuÃ© hacen**: Controlan el flujo de mensajes ("DespuÃ©s de A, ir a B")  
- **PiÃ©nsalos como**: Flechas en un diagrama de flujo  

#### 3. ğŸ—ºï¸ Flujos de trabajo (El plan maestro)
- **QuÃ© son**: El grafo completo de ejecutores + bordes  
- **QuÃ© hacen**: Definen todo el proceso de principio a fin  
- **PiÃ©nsalos como**: El plano de tu pipeline de producciÃ³n  

### Funciones geniales que amarÃ¡s

**ğŸ›¡ï¸ Seguridad de tipo**: Los mensajes entre agentes son validados por tipo. Nada de sorpresas "Ups, tipo de dato errÃ³neo".

**ğŸ”€ Ruteo flexible**:  
- Condicionales if-then ("Si aprobado, publicar; si no, reescribir")  
- Procesamiento paralelo (varios agentes trabajan simultÃ¡neamente)  
- Rutas dinÃ¡micas (el flujo se adapta segÃºn los resultados)  

**ğŸ”Œ IntegraciÃ³n externa**:  
- ConexiÃ³n a APIs  
- Puntos de control con humanos (tÃº apruebas antes de publicar)  
- Flujo de solicitud/respuesta  

**ğŸ’¾ Punto de control**: Guarda el progreso! Si algo falla, retoma donde quedaste.

**ğŸ¤ CoordinaciÃ³n multiagente**:  
- Ejecuta agentes en secuencia (A â†’ B â†’ C)  
- Ejecuta en paralelo (A + B + C a la vez)  
- Entrega tareas entre agentes  
- Procesamiento colaborativo  

## Buenas prÃ¡cticas (Consejos profesionales) ğŸ¯

### 1. MantÃ©n modularidad  
Cada agente debe hacer UNA cosa muy bien. No hagas un "superagente" que haga todo â€” lo lamentarÃ¡s a la hora de depurar.

### 2. Planea para fallos  
Los agentes se equivocan. Las redes fallan. Incluye manejo de errores y planes de respaldo. Tu yo futuro te lo agradecerÃ¡.

### 3. Monitorea todo  
Rastrea lo que hacen tus agentes. Usa DevUI (Â¡lo veremos!) para ver flujos en acciÃ³n.

### 4. Optimiza el tamaÃ±o de los mensajes  
No pases archivos gigantes entre agentes. MantÃ©n los mensajes ligeros y rÃ¡pidos.

### 5. Elige el patrÃ³n correcto  
Â¿Necesitas control? Ve centralizado. Â¿Necesitas escalar? Ve descentralizado. Â¿No sabes? Ve hÃ­brido.

## DevUI: Tu depurador de flujos ğŸ”

### Â¿QuÃ© es DevUI?

DevUI es como un playground para probar tus agentes y flujos. Es una interfaz web donde puedes:
- ğŸ‘€ Ver tu flujo en acciÃ³n  
- ğŸ’¬ Chatear con agentes directamente  
- ğŸ” Depurar cuando algo falla  
- ğŸ“Š Ver rastros y mÃ©tricas de rendimiento  

> **Importante**: DevUI es solo para desarrollo! No lo uses en producciÃ³n. PiÃ©nsalo como tu entorno local de pruebas.

### QuÃ© lo hace genial

- **ğŸ–¥ï¸ UI Web interactiva**: Clic, escribe, prueba â€” no necesitas lÃ­nea de comandos  
- **ğŸ“ Listo para arrastrar y soltar**: Sube archivos, prueba con diferentes entradas  
- **ğŸ“‚ Auto-descubrimiento**: ApÃºntalo a una carpeta y encuentra todos tus agentes automÃ¡ticamente  
- **ğŸ“‹ Modo sin configuraciÃ³n**: Registra agentes en cÃ³digo, no necesitas estructura de carpeta  
- **ğŸ”Œ Compatible con OpenAI**: Funciona con el SDK de OpenAI (Â¡compatibilidad garantizada!)  
- **ğŸ‘ï¸ Trazado incorporado**: Ve exactamente quÃ© hacen tus agentes  

### CÃ³mo funciona la entrada

DevUI es inteligente con las entradas:

- **Â¿Probando agentes?** Tienes cajas de texto y botones para subir archivos  
- **Â¿Probando flujos?** La UI genera campos de entrada automÃ¡ticamente segÃºn lo que espera tu flujo  

Es como magia, pero es solo buen cÃ³digo. âœ¨

## Tus misiones: Construir un estudio de podcast ğŸ¬

### MisiÃ³n 1: Crear un agente Ãºnico con DevUI

ğŸ“‚ [01.AgentDevUI](../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**El reto**: Antes de construir un equipo completo, probemos DevUI con un agente: un especialista en bÃºsqueda web.

**Lo que construirÃ¡s**:  
Un agente de investigaciÃ³n que puede buscar en internet temas para podcast. Lo probarÃ¡s usando la interfaz web de DevUI en `http://localhost:8090`.

**Habilidades que aprenderÃ¡s**:  
- ğŸš€ Lanzar agentes en DevUI  
- ğŸ” Probar respuestas de agentes en tiempo real  
- ğŸ› ï¸ Construir herramientas personalizadas (bÃºsqueda web)  
- ğŸ“Š Activar trazado para depurar problemas  
- ğŸ–¥ï¸ Usar la interfaz web interactiva  

**El cÃ³digo**:  
- `agent.py`: Tu SearchAgent con superpoderes de bÃºsqueda web  
- Usa OllamaChatClient para conectarse a Qwen  
- Implementa la funciÃ³n herramienta `web_search()`  
- Se lanza con `serve()` â€” abre DevUI automÃ¡ticamente  

**CondiciÃ³n de victoria**: Pregunta a tu agente "Â¿QuÃ© es tendencia en IA?" y mÃ­ralo buscar en la web! ğŸ‰

### MisiÃ³n 2: Construir un flujo multiagente

ğŸ“‚ [02.WorkflowDevUI](../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**El reto**: Â¡AquÃ­ empieza la diversiÃ³n! Construye un flujo completo de producciÃ³n de podcast con:  
1. ğŸ” **Agente de bÃºsqueda** â†’ Investiga tu tema  
2. âœï¸ **Agente de guion** â†’ Escribe un diÃ¡logo entre dos anfitriones (Â¡en chino!)  
3. ğŸ‘¤ **Ejecutor de revisiÃ³n** â†’ TE pide aprobar o rechazar  
4. ğŸ”„ **Bucle de retroceso** â†’ Si rechazas, reescribe basado en tu feedback  

**Habilidades que aprenderÃ¡s**:  
- ğŸ§± Crear agentes especializados para distintos trabajos  
- ğŸ”— Conectar agentes con WorkflowBuilder  
- ğŸ”€ Implementar bucles de aprobaciÃ³n (humano en el ciclo)  
- ğŸš¦ Ruteo condicional (aprobado vs. rechazado)  
- ğŸ”§ Construir ejecutores personalizados para lÃ³gica de negocio  

**El flujo**:  
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (if rejected)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```
  
**El cÃ³digo**:  
- `search_agent/agent.py`: Tu especialista en investigaciÃ³n  
- `generate_script_agent/agent.py`: Tu guionista (Â¡escribe en chino!)  
- `workflow/workflow.py`: La magia de la orquestaciÃ³n sucede aquÃ­  
- `main.py`: Lanza todo en DevUI  

**CondiciÃ³n de victoria**: Da un tema, revisa el guion, rechÃ¡zalo una vez para probar el bucle, luego apruÃ©balo! ğŸ‰

### MisiÃ³n 3: Construir una app de consola

ğŸ“‚ [03.Application](../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**El reto**: Lleva tu flujo de DevUI y conviÃ©rtelo en una app terminal elegante con salida en color, spinners de carga y guardado de archivos. Â¡Esto es para producciÃ³n!

**Habilidades que aprenderÃ¡s**:  
- âš¡ Ejecutar flujos programÃ¡ticamente (sin DevUI)  
- ğŸ“¡ Arquitectura basada en eventos con streaming  
- ğŸ¨ Crear interfaces terminales bonitas (colores, spinners, barras de progreso)  
- ğŸ’¾ Guardar guiones finales en archivos  
- ğŸ”„ Manejar flujos async con asyncio de Python  

**QuÃ© hace**:  
1. Te pide un tema para podcast  
2. Muestra progreso en tiempo real ("Agente de bÃºsqueda trabajando...")  
3. Muestra el guion generado con colores  
4. Pide tu aprobaciÃ³n  
5. Guarda el guion aprobado en `podcast.txt`  

**El cÃ³digo**:  
- `podcast_app.py`: Tu app principal con manejo de eventos  
- `workflow.py`: Reusa el flujo de la MisiÃ³n 2  
- Maneja eventos: `AgentRunUpdateEvent`, `RequestInfoEvent`, `WorkflowOutputEvent`  
- Usa colores ANSI para estilo terminal  

**CondiciÃ³n de victoria**: Ejecuta la app, crea un guion de podcast y Â¡mÃ­ralo guardarse! Has construido una herramienta real. ğŸš€

## Lo que has dominado ğŸ†

DespuÃ©s del Acto 2, puedes:

- âœ… Orquestar mÃºltiples agentes de IA como un jefe  
- âœ… Construir flujos de trabajo con lÃ³gica secuencial Y condicional  
- âœ… AÃ±adir puntos de control de aprobaciÃ³n humana  
- âœ… Usar DevUI para probar y depurar flujos  
- âœ… Crear aplicaciones de consola listas para producciÃ³n  
- âœ… Manejar errores con gracia en sistemas complejos  
- âœ… Elegir el patrÃ³n correcto de orquestaciÃ³n para cualquier proyecto  

## Cuando las cosas se rompen ğŸ”§

### "Â¡Mi flujo es muy complicado!"  
**La soluciÃ³n**: DivÃ­delo en sub-flujos mÃ¡s pequeÃ±os. Cada flujo debe hacer UNA cosa bien. EnlÃ¡zalos si es necesario.

### "Â¡No puedo rastrear quÃ© pasa!"  
**La soluciÃ³n**: Usa puntos de control de flujo para guardar estado. Activa trazado en DevUI para ver cada paso.

### "Â¡El error de un agente arruina todo!"  
**La soluciÃ³n**: AÃ±ade lÃ­mites de error. Cada agente debe manejar sus propias fallas y tener comportamientos alternativos.

### "Esto es taaaan lento"  
**La soluciÃ³n**: Â¿Pueden algunos agentes correr en paralelo? Los flujos secuenciales son fÃ¡ciles pero lentos. Busca oportunidades de paralelizaciÃ³n.

## Recursos Ãºtiles ğŸ”—

- [Docs de Workflow](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” GuÃ­as oficiales de Microsoft  
- [Patrones de OrquestaciÃ³n](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” El enfoque de IBM  
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” Navega el cÃ³digo fuente  
- [Ejemplos de cÃ³digo](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” Toma patrones de aquÃ­

---

**Â¿Listo para el final?** Ya tienes tu guion. Â¡Ahora convirtÃ¡moslo en audio real! â†’ [Acto 3: Da vida a tu podcast](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Â¿Atascado? Â¿Confundido? Â¿Emocionado?** Â¡Comparte en el chat del taller! Todos estamos aprendiendo juntos. ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Descargo de responsabilidad**:  
Este documento ha sido traducido utilizando el servicio de traducciÃ³n automÃ¡tica [Co-op Translator](https://github.com/Azure/co-op-translator). Aunque nos esforzamos por lograr precisiÃ³n, tenga en cuenta que las traducciones automatizadas pueden contener errores o inexactitudes. El documento original en su idioma nativo debe considerarse la fuente autorizada. Para informaciÃ³n crÃ­tica, se recomienda una traducciÃ³n profesional realizada por humanos. No nos hacemos responsables de ningÃºn malentendido o interpretaciÃ³n errÃ³nea derivada del uso de esta traducciÃ³n.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->