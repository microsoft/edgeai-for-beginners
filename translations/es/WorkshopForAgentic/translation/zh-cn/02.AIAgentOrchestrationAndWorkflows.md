# Acto 2: Construye tu equipo de producciÃ³n de podcast ğŸ¬

![lab2](../../../../../translated_images/es/lab2.48444b9d549e7863.webp)

## IntensificaciÃ³n del argumento

Alex (tu asistente de IA en el Acto 1) es genial, pero un solo agente no puede manejar todo un estudio de podcast. Necesitas un *equipo*:
- ğŸ” **Agente de investigaciÃ³n**: busca informaciÃ³n fresca en la web
- âœï¸ **Agente de guion**: convierte la investigaciÃ³n en diÃ¡logos atractivos
- ğŸ‘¤ **TÃº (editor)**: apruebas el guion o lo devuelves para reescribir

Bienvenido a **OrquestaciÃ³n de agentes de IA** â€” donde eres el director de tu propio equipo de IA. Piensa en Los Vengadores, pero para producciÃ³n de podcasts.

## Â¿QuÃ© es la orquestaciÃ³n de agentes? (versiÃ³n simple)

Imagina que diriges un restaurante. No haces todo tÃº solo, Â¿verdad? Tienes:
- ğŸ³ Un chef que cocina
- ğŸ‘¨â€ğŸ³ Un sous-chef que prepara ingredientes
- ğŸ‘©â€ğŸ³ Un camarero que sirve la comida

La orquestaciÃ³n de agentes es la misma idea, pero con IA. Cada agente es especialista y tÃº los coordinas para lograr un objetivo mayor. NingÃºn agente estÃ¡ sobrecargado y el trabajo se realiza mÃ¡s rÃ¡pido.

### AnalogÃ­a con una banda ğŸ¸

Tus agentes de IA son como una banda:
- **Vocalista principal**: agente principal que maneja las tareas orientadas al cliente
- **Baterista**: mantiene el ritmo, maneja el procesamiento en segundo plano
- **Bajista**: apoya a todos, obtiene datos
- **TÃº (gerente de la banda)**: coordinas todo

Â¿Sin coordinaciÃ³n? Solo ruido. Â¿Con orquestaciÃ³n? MÃºsica hermosa.

### Por quÃ© es importante

Un agente de IA intentando hacer todo = agotamiento. Agentes especializados trabajando juntos = eficiencia desbloqueada! ğŸš€

**Honestamente**: Â¿Recuerdas intentar investigar, escribir y editar tu podcast tÃº solo? SÃ­, fue horrible. Con la orquestaciÃ³n, cada agente hace lo que mejor sabe hacer. TÃº solo tomas la decisiÃ³n final.

**Ejemplo del mundo real**: un chatbot que sabe cuÃ¡ndo manejar facturaciÃ³n vs problemas tÃ©cnicos vs cuÃ¡ndo llamar a un humano. Â¡Eso es orquestaciÃ³n!

## Agentes vs Flujos de trabajo: Â¿CuÃ¡l es la diferencia?

Piensa asÃ­:

### ğŸ¤– Agentes de IA = mÃºsicos de jazz
- **Decisiones improvisadas** basadas en lo que escuchan
- **Crean improvisadamente** soluciones con sus herramientas
- **Piensan** con cerebro LLM
- **Se adaptan** a lo que les lanzas

### ğŸµ Flujos de trabajo = orquesta tocando mÃºsica clÃ¡sica
- **Siguen la partitura** (pasos predefinidos)
- **Ejecutan de manera predecible**
- **Coordinan** varios agentes, humanos y sistemas
- **Estructurados** como una receta

**La magia**: los flujos de trabajo *orquestan* agentes. Construyes un flujo que dice a los agentes cuÃ¡ndo entrar en acciÃ³n. Lo mejor de ambos mundos. ğŸ­

## Tres maneras de coordinar tu equipo de IA

### 1. ğŸ¯ Centralizado (tÃº eres el jefe)

Un agente maestro da Ã³rdenes. PiÃ©nsalo como si manejaras un equipo: tÃº decides quiÃ©n hace quÃ© y cuÃ¡ndo.

**Pros**:
- âœ… Liderazgo claro (sin confusiÃ³n)
- âœ… Decisiones consistentes
- âœ… FÃ¡cil de depurar

**Ideal para**:
- Enrutamiento de soporte al cliente ("Â¿es facturaciÃ³n o soporte tÃ©cnico?")
- Flujos de trabajo de aprobaciÃ³n de contenido ("Â¿aprobamos este guion?")
- ProducciÃ³n de podcast (justo lo que estamos construyendo)

### 2. ğŸ¤ Descentralizado (agentes auto-organizados)

Los agentes se hablan directamente y resuelven problemas como grupo. Como un chat grupal con buena coordinaciÃ³n.

**Pros**:
- âœ… FÃ¡cil de escalar (agrega agentes a voluntad)
- âœ… Sin punto Ãºnico de falla
- âœ… ColaboraciÃ³n natural entre agentes

**Ideal para**:
- Equipos de investigaciÃ³n (cada agente explora una fuente diferente)
- Sesiones de lluvia de ideas
- ResoluciÃ³n de problemas distribuida

### 3. ğŸ”€ HÃ­brido (lo mejor de ambos)

TÃº estableces la direcciÃ³n general, pero los agentes se auto-organizan para las tareas. Como un CEO que confÃ­a en su equipo.

**Perfecto para**: proyectos complejos que necesitan control y flexibilidad.

## Microsoft Agent Framework: tu kit de orquestaciÃ³n ğŸ§°

Â¡Es hora de empezar a construir! Esto es lo que usarÃ¡s:

### Componentes constructores

#### 1. ğŸ§± Ejecutores (tus trabajadores)
- **QuÃ© son**: unidades de procesamiento individuales â€” pueden ser agentes o lÃ³gica personalizada
- **QuÃ© hacen**: reciben entrada, hacen el trabajo, producen salida
- **PiÃ©ntalos como**: estaciones de trabajo en una lÃ­nea de ensamblaje

#### 2. â¡ï¸ Bordes (conexiones)
- **QuÃ© son**: caminos entre ejecutores
- **QuÃ© hacen**: controlan el flujo de mensajes ("despuÃ©s de A, ir a B")
- **PiÃ©ntalos como**: flechas en un diagrama de flujo

#### 3. ğŸ—ºï¸ Flujos de trabajo (plan maestro)
- **QuÃ© son**: grÃ¡fico completo de ejecutores + bordes
- **QuÃ© hacen**: definen todo el proceso, desde inicio hasta fin
- **PiÃ©ntalos como**: el plano de tu proceso de producciÃ³n

### Funciones geniales que te encantarÃ¡n

**ğŸ›¡ï¸ Tipos seguros**: los mensajes entre agentes se chequean por tipo. Nada de "oops, tipo de dato incorrecto".

**ğŸ”€ Enrutamiento flexible**:
- Condiciones if-then ("si se aprueba, publica; si no, reescribe")
- Procesamiento paralelo (varios agentes trabajando al mismo tiempo)
- Rutas dinÃ¡micas (el flujo se ajusta segÃºn los resultados)

**ğŸ”Œ Integraciones externas**:
- ConexiÃ³n a APIs
- AÃ±adir puntos de control con humanos (tÃº apruebas antes de publicar)
- Construir flujos de solicitudes/respuestas

**ğŸ’¾ Checkpoints**: Â¡guarda el progreso! Si algo falla, continÃºa desde donde lo dejaste.

**ğŸ¤ CoordinaciÃ³n multi-agente**:
- Ejecutar agentes en secuencia (A â†’ B â†’ C)
- Ejecutarlos en paralelo (A + B + C simultÃ¡neamente)
- Transferencia entre agentes
- Trabajo colaborativo

## Mejores prÃ¡cticas (tips profesionales) ğŸ¯

### 1. MantÃ©n la modularidad
Cada agente debe hacer bien solo una cosa. No crees un "superagente" que haga de todo â€” te arrepentirÃ¡s cuando lo depures.

### 2. Planea para fallos
Los agentes fallarÃ¡n. La red caerÃ¡. Construye manejo de errores y planes alternativos. Tu yo futuro te lo agradecerÃ¡.

### 3. Monitorea todo
Sigue lo que hacen tus agentes. Usa DevUI (te lo mostraremos) para ver los flujos en ejecuciÃ³n.

### 4. Optimiza el tamaÃ±o de mensajes
No pases archivos enormes entre agentes. MantÃ©n los mensajes ligeros para mayor velocidad.

### 5. Escoge el patrÃ³n correcto
Â¿Necesitas control? Elige centralizado. Â¿Necesitas escala? Elige descentralizado. Â¿No sabes? Elige hÃ­brido.

## DevUI: tu depurador de flujos ğŸ”

### Â¿QuÃ© es DevUI?

DevUI es como el parque de diversiones para probar tus agentes y flujos. Es una interfaz web donde puedes:
- ğŸ‘€ Ver tus flujos en tiempo real
- ğŸ’¬ Chatear directamente con los agentes
- ğŸ” Depurar cuando algo falla
- ğŸ“Š Ver trazas y mÃ©tricas de rendimiento

> **Importante**: DevUI es solo para desarrollo. No lo uses en producciÃ³n. PiÃ©nsalo como tu entorno local de pruebas.

### QuÃ© lo hace genial

- **ğŸ–¥ï¸ UI web interactiva**: clic, tecleo, prueba â€” sin lÃ­nea de comandos
- **ğŸ“ Listo para arrastrar y soltar**: sube archivos, prueba con diferentes entradas
- **ğŸ“‚ Descubrimiento automÃ¡tico**: apunta a una carpeta y encuentra todos los agentes
- **ğŸ“‹ Sin necesidad de configurar estructura**: registra agentes en cÃ³digo, no necesitas orden de carpetas
- **ğŸ”Œ Compatible con OpenAI**: funciona con OpenAI SDK (Â¡larga vida a la compatibilidad!)
- **ğŸ‘ï¸ Seguimiento incorporado**: mira exactamente quÃ© hacen tus agentes

### CÃ³mo funciona la entrada

DevUI es inteligente con la entrada:

- **Â¿Probando agentes?** Obtienes cajas de texto y botones para subir archivos
- **Â¿Probando flujos?** La UI genera campos de entrada automÃ¡ticamente segÃºn lo que espera tu flujo

Es como magia, pero es solo buen cÃ³digo. âœ¨

## Tu misiÃ³n: construir un estudio de podcast ğŸ¬

### MisiÃ³n 1: Crear un agente individual usando DevUI

ğŸ“‚ [01.AgentDevUI](../../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**DesafÃ­o**: antes de construir el equipo completo, probemos DevUI con un solo agente: experto en bÃºsqueda web.

**QuÃ© construirÃ¡s**: 
Un agente que pueda buscar temas para podcasts en internet. Lo probarÃ¡s usando la interfaz web de DevUI en `http://localhost:8090`.

**Habilidades que aprenderÃ¡s**:
- ğŸš€ Lanzar un agente en DevUI
- ğŸ” Probar respuestas en tiempo real
- ğŸ› ï¸ Construir herramientas personalizadas (bÃºsqueda web)
- ğŸ“Š Activar seguimiento para depurar problemas
- ğŸ–¥ï¸ Usar la UI web interactiva

**CÃ³digo**:
- `agent.py`: tu SearchAgent con superpoderes de bÃºsqueda web
- ConexiÃ³n a Qwen vÃ­a OllamaChatClient
- ImplementaciÃ³n de la funciÃ³n herramienta `web_search()`
- Iniciar con `serve()` â€” abre DevUI automÃ¡ticamente

**Objetivo de victoria**: PregÃºntale a tu agente "Â¿CuÃ¡les son los temas candentes en IA?" y mira cÃ³mo busca en la web. ğŸ‰

### MisiÃ³n 2: Construir un flujo de trabajo multi-agente

ğŸ“‚ [02.WorkflowDevUI](../../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**DesafÃ­o**: Â¡ahora empieza la verdadera diversiÃ³n! Construye un flujo completo para producciÃ³n de podcast:
1. ğŸ” **Agente de bÃºsqueda** â†’ investigue tu tema
2. âœï¸ **Agente de guion** â†’ escribe el diÃ¡logo para dos anfitriones (Â¡en chino!)
3. ğŸ‘¤ **Ejecutor de revisiÃ³n** â†’ te solicita aprobar o rechazar
4. ğŸ”„ **Ciclo de retroceso** â†’ si se rechaza, reescribe segÃºn tu feedback

**Habilidades que aprenderÃ¡s**:
- ğŸ§± Crear agentes especializados para diferentes tareas
- ğŸ”— Conectar agentes con WorkflowBuilder
- ğŸ”€ Implementar ciclo de aprobaciÃ³n (Â¡humano en el bucle!)
- ğŸš¦ Enrutamiento condicional (si se aprueba vs si se rechaza)
- ğŸ”§ Construir ejecutores personalizados para lÃ³gica de negocio

**Flujo de trabajo**:
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (å¦‚æœè¢«æ‹’ç»)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**CÃ³digo**:
- `search_agent/agent.py`: tu experto en investigaciÃ³n
- `generate_script_agent/agent.py`: tu escritor de guiones (Â¡escribe en chino!)
- `workflow/workflow.py`: donde ocurre la magia de la orquestaciÃ³n
- `main.py`: inicia todo en DevUI

**Objetivo de victoria**: da un tema, revisa el guion, rechaza una vez para probar el ciclo, luego aprueba. ğŸ‰

### MisiÃ³n 3: Construir una aplicaciÃ³n de consola

ğŸ“‚ [03.Application](../../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**DesafÃ­o**: transforma tu flujo de DevUI en una aplicaciÃ³n terminal elegante con salida en color, indicadores de carga y guardado de archivos. Â¡Listo para producciÃ³n!

**Habilidades que aprenderÃ¡s**:
- âš¡ Ejecutar flujos programÃ¡ticamente (sin DevUI)
- ğŸ“¡ Usar arquitectura orientada a eventos con streaming
- ğŸ¨ Crear UI terminal atractiva (color, spinner, barra de progreso)
- ğŸ’¾ Guardar el guion final en archivo
- ğŸ”„ Manejar asincronÃ­a con asyncio de Python

**QuÃ© hace**:
1. Te pregunta tu tema de podcast
2. Muestra progreso en tiempo real ("Agente de bÃºsqueda trabajando...")
3. Muestra el guion generado con colores
4. Solicita tu aprobaciÃ³n
5. Guarda el guion aprobado en `podcast.txt`

**CÃ³digo**:
- `podcast_app.py`: tu app principal con manejo de eventos
- `workflow.py`: reutiliza el flujo del Paso 2
- Manejar eventos: `AgentRunUpdateEvent`, `RequestInfoEvent`, `WorkflowOutputEvent`
- Usar colores ANSI para estilos de terminal

**CondiciÃ³n de victoria**: Â¡Ejecuta la aplicaciÃ³n, crea un guion para podcast y mira cÃ³mo se guarda! Has construido una herramienta real.ğŸš€

## Lo que ya dominas ğŸ†

DespuÃ©s del segundo acto, puedes:

- âœ… Orquestar mÃºltiples agentes de IA como un jefe
- âœ… Construir flujos de trabajo con lÃ³gica secuencial y condicional
- âœ… Agregar puntos de aprobaciÃ³n manual
- âœ… Probar y depurar flujos de trabajo con DevUI
- âœ… Crear aplicaciones de consola listas para producciÃ³n
- âœ… Manejar errores elegantemente en sistemas complejos
- âœ… Elegir el patrÃ³n de orquestaciÃ³n correcto para cualquier proyecto

## Cuando las cosas salen mal ğŸ”§

### "Â¡Mi flujo de trabajo es demasiado complejo!"
**SoluciÃ³n**: DivÃ­delo en sub-flujos mÃ¡s pequeÃ±os. Cada flujo debe hacer bien una sola cosa. Si es necesario, enlÃ¡zalos.

### "Â¡No puedo hacer seguimiento de lo que estÃ¡ pasando!"
**SoluciÃ³n**: Usa puntos de control en el flujo para guardar estado. Activa el seguimiento en DevUI para ver cada paso.

### "Â¡El error de un agente derrumba todo!"
**SoluciÃ³n**: Agrega lÃ­mites de error. Cada agente debe manejar sus fallos y tener un comportamiento alternativo.

### "Esto es demasiado lento"
**SoluciÃ³n**: Â¿Hay agentes que puedan correr en paralelo? Los flujos secuenciales son fÃ¡ciles pero lentos. Â¡Busca oportunidades de paralelizaciÃ³n!

## Recursos Ãºtiles ğŸ”—

- [DocumentaciÃ³n de flujos de trabajo](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” GuÃ­a oficial de Microsoft
- [Patrones de orquestaciÃ³n](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” Perspectiva de IBM
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” Explora el cÃ³digo fuente
- [Ejemplos de cÃ³digo](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” Toma patrones de aquÃ­

---

**Â¿Listo para el acto final?** Ya tienes un guion. Â¡Ahora hagamos que cobre vida en audio! â†’ [Acto 3: Haz que tu podcast cobre vida](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Â¿Atascado? Â¿Confundido? Â¿Emocionado?** Â¡Comparte en el chat del taller! Aprendamos juntos.ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Aviso Legal**:  
Este documento ha sido traducido utilizando el servicio de traducciÃ³n automÃ¡tica [Co-op Translator](https://github.com/Azure/co-op-translator). Aunque nos esforzamos por la precisiÃ³n, tenga en cuenta que las traducciones automÃ¡ticas pueden contener errores o inexactitudes. El documento original en su idioma nativo debe considerarse la fuente autorizada. Para informaciÃ³n crÃ­tica, se recomienda la traducciÃ³n profesional humana. No nos hacemos responsables de malentendidos o interpretaciones errÃ³neas derivadas del uso de esta traducciÃ³n.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->