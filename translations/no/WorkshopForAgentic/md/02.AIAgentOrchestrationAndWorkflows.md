# Akt 2: Sett sammen podcast-produksjonsteamet ditt ğŸ¬

![lab2](../../../../translated_images/no/lab2.48444b9d549e7863.webp)

## Plottet tetter seg til

Alex (din AI-assistent fra Akt 1) er fantastisk, men Ã©n agent kan ikke drive et helt podcast-studio alene. Du trenger et *team*:
- ğŸ” **Forskningsagent**: Leter pÃ¥ nettet etter fersk info
- âœï¸ **Manusagent**: GjÃ¸r forskning om til engasjerende dialog
- ğŸ‘¤ **Du (RedaktÃ¸ren)**: Godkjenner manus eller sender dem tilbake for omskriving

Velkommen til **AI Agent Orkestrering** â€” der du blir regissÃ¸ren for ditt eget AI-team. Tenk Avengers, men for podcast-produksjon.

## Hva er agentorkestrering? (Den enkle versjonen)

Se for deg at du driver en restaurant. Du gjÃ¸r ikke alt selv, ikke sant? Du har:
- ğŸ³ En kokk som lager maten
- ğŸ‘¨â€ğŸ³ En soussjef som forbereder
- ğŸ‘©â€ğŸ³ En servitÃ¸r som serverer

Agentorkestrering er samme idÃ©, men med AI. Hver agent har et spesialfelt, og du koordinerer dem for Ã¥ nÃ¥ stÃ¸rre mÃ¥l. Ingen enkelt agent blir overveldet, og arbeidet blir gjort raskere.

### Bandanalogien ğŸ¸

Dine AI-agenter er som et band:
- **Forsanger**: Hovedagent som hÃ¥ndterer kundevendte oppgaver
- **Trommeslager**: Holder rytmen, hÃ¥ndterer bakgrunnsprosesser  
- **Bassist**: StÃ¸tter alle, henter data
- **Du (Band Manager)**: Koordinerer det hele!

Uten koordinering? Bare stÃ¸y. Med orkestrering? Vakkert samspill.

### Hvorfor dette betyr noe

Ã‰n AI-agent som prÃ¸ver Ã¥ gjÃ¸re alt = utbrenthet. Spesialiserte agenter som jobber sammen = effektivitet lÃ¥st opp! ğŸš€

**Realistisk**: Husker du da du prÃ¸vde Ã¥ forske, skrive OG redigere podcasten alene? Ja, det suger. Med orkestrering gjÃ¸r hver agent det den er best pÃ¥. Du tar de endelige avgjÃ¸relsene.

**Virkelig eksempel**: KundestÃ¸tteboter som vet nÃ¥r de skal hÃ¥ndtere fakturering vs. tekniske problemer vs. nÃ¥r de skal ringe inn et menneske. Det er orkestrering!

## Agent vs. arbeidsflyt: Hva er forskjellen?

Se pÃ¥ det slik:

### ğŸ¤– AI-agent = Jazzmusiker
- **Tar avgjÃ¸relser pÃ¥ sparket** basert pÃ¥ det den hÃ¸rer
- **Improviser** lÃ¸sninger med sine verktÃ¸y
- **Tenker** med en LLM-hjerne
- **Tilpasser seg** alt du gir den

### ğŸµ Arbeidsflyt = Orkester som spiller klassisk musikk  
- **FÃ¸lger en partitur** (forhÃ¥ndsdefinerte trinn)
- **Forutsigbar** gjennomfÃ¸ringsvei
- **Koordinerer** flere agenter, mennesker, systemer
- **Strukturert** som en oppskrift

**Magien**: Arbeidsflyter *orkestrerer* agenter! Du bygger en arbeidsflyt som forteller agentene nÃ¥r de skal spille sin rolle. Det beste av begge verdener. ğŸ­

## Tre mÃ¥ter Ã¥ koordinere AI-teamet ditt pÃ¥

### 1. ğŸ¯ Sentralisert (Du er sjefen)

Ã‰n hovedagent tar alle avgjÃ¸relser. Tenk det som at du leder et team â€” du bestemmer hvem som gjÃ¸r hva og nÃ¥r.

**Fordeler**:
- âœ… Klart lederskap (ingen forvirring)
- âœ… Konsistente avgjÃ¸relser
- âœ… Lett Ã¥ feilsÃ¸ke

**Bruk det til**:
- Kundeserviceruting ("Er dette fakturering eller teknisk stÃ¸tte?")
- Godkjenningsarbeidsflyter for innhold ("Godkjenner dette manuset?")
- Podcast-produksjon (akkurat det vi bygger!)

### 2. ğŸ¤ Desentralisert (Agenter selvorganiserer seg)

Agenter snakker direkte med hverandre og finner ut av ting som en gruppe. Som en gruppechat der alle koordinerer.

**Fordeler**:
- âœ… Skalerer lett (legg til flere agenter nÃ¥r som helst)
- âœ… Ingen enkelt feilpunkt
- âœ… Agenter samarbeider naturlig

**Bruk det til**:
- Forskningslag (hver agent utforsker ulike kilder)
- IdÃ©myldringer
- Distribuert problemlÃ¸sning

### 3. ğŸ”€ Hybrid (Det beste fra begge verdener)

Du setter den overordnede retningen, men agentene har frihet til Ã¥ organisere seg selv pÃ¥ oppgaver. Som en CEO som stoler pÃ¥ teamet sitt.

**Perfekt for**: Komplekse prosjekter som trenger bÃ¥de kontroll og fleksibilitet.

## Microsoft Agent Framework: Ditt orkestreringsverktÃ¸y ğŸ§°

Tid for bygging! Her er hva du skal bruke:

### Byggesteinene

#### 1. ğŸ§± KjÃ¸rere (Dine arbeidere)
- **Hva de er**: Enkeltprosesseringsenheter â€” kan vÃ¦re agenter eller egendefinert logikk
- **Hva de gjÃ¸r**: Tar input, gjÃ¸r arbeid, produserer output
- **Tenk pÃ¥ dem som**: Stasjoner i en samlebÃ¥ndslinje

#### 2. â¡ï¸ Kanter (Forbindelsene)
- **Hva de er**: Veier mellom kjÃ¸rere
- **Hva de gjÃ¸r**: Kontrollerer meldingstrÃ¸m ("Etter A, gÃ¥ til B")
- **Tenk pÃ¥ dem som**: Piler pÃ¥ et flytskjema

#### 3. ğŸ—ºï¸ Arbeidsflyter (Hovedplanen)
- **Hva de er**: Det komplette nettverket av kjÃ¸rere + kanter
- **Hva de gjÃ¸r**: Definerer hele prosessen fra start til slutt
- **Tenk pÃ¥ dem som**: Blueprinten for produksjonspipelinen din

### Kule funksjoner du vil elske

**ğŸ›¡ï¸ Typesikkerhet**: Meldinger mellom agenter er typekontrollert. Ingen "Oops, feil datatype"-overraskelser.

**ğŸ”€ Fleksibel ruting**: 
- Hvis-da betingelser ("Hvis godkjent, publiser; ellers, skriv om")
- Parallelle prosesser (flere agenter jobber samtidig)
- Dynamiske stier (arbeidsflyten tilpasser seg basert pÃ¥ resultat)

**ğŸ”Œ Ekstern integrasjon**:
- Koble til API-er
- Legg til menneskelig godkjenningspunkter (du godkjenner fÃ¸r publisering)
- Bygg forespÃ¸rsels-/responssflyter

**ğŸ’¾ Sjekkpunkter**: Lagre fremdriften! Hvis noe krasjer, fortsett der du slapp.

**ğŸ¤ Multi-agent koordinering**:
- KjÃ¸r agenter i rekkefÃ¸lge (A â†’ B â†’ C)
- KjÃ¸r dem parallelt (A + B + C samtidig)
- OverfÃ¸r mellom agenter
- Samarbeidende prosessering

## Beste praksis (Pro-tips) ğŸ¯

### 1. Hold det modulÃ¦rt  
Hver agent bÃ¸r gjÃ¸re Ã‰N ting skikkelig bra. Ikke lag en "superagent" som gjÃ¸r alt â€” du vil angre nÃ¥r du feilsÃ¸ker.

### 2. Planlegg for feil  
Agenter feiler. Nettverk feiler. Bygg inn feilhÃ¥ndtering og backuplÃ¸sninger. Fremtidige deg vil takke deg.

### 3. OvervÃ¥k alt  
FÃ¸lg med pÃ¥ hva agentene dine gjÃ¸r. Bruk DevUI (vi skal komme tilbake til det!) for Ã¥ se arbeidsflyter i aksjon.

### 4. Optimaliser meldingsstÃ¸rrelse  
Ikke send store filer mellom agenter. Hold meldingene slanke og raske.

### 5. Velg riktig mÃ¸nster  
Trenger du kontroll? GÃ¥ for sentralisert. Trenger du skala? GÃ¥ desentralisert. Klarer du ikke Ã¥ bestemme? Velg hybrid!

## DevUI: Din arbeidsflyt-feilsÃ¸ker ğŸ”

### Hva er DevUI?

DevUI er som en lekeplass for Ã¥ teste agentene og arbeidsflytene dine. Det er et nettgrensesnitt der du kan:
- ğŸ‘€ Se arbeidsflyten i aksjon
- ğŸ’¬ Chatte direkte med agenter
- ğŸ” FeilsÃ¸ke nÃ¥r noe gÃ¥r galt
- ğŸ“Š Se spor og ytelsesstatistikk

> **Viktig**: DevUI er kun for utvikling! Ikke bruk det i produksjon. Tenk pÃ¥ det som ditt lokale testmiljÃ¸.

### Hva gjÃ¸r det fantastisk

- **ğŸ–¥ï¸ Interaktivt web-UI**: Klikk, skriv, test â€” ingen kommandolinje nÃ¸dvendig
- **ğŸ“ Dra-og-slipp klar**: Last opp filer, test med ulik input
- **ğŸ“‚ Automatisk oppdagelse**: Pek pÃ¥ en mappe, sÃ¥ finner det alle agentene dine automatisk
- **ğŸ“‹ Ingen oppsett-modus**: Registrer agenter i kode, ingen mappekrav
- **ğŸ”Œ OpenAI-kompatibelt**: Fungerer med OpenAI SDK (kompatibilitet FTW!)
- **ğŸ‘ï¸ Innebygd sporing**: Se nÃ¸yaktig hva agentene dine gjÃ¸r

### Hvordan input fungerer

DevUI er smart med input:

- **Tester du agenter?** Du fÃ¥r tekstbokser og filopplasting
- **Tester du arbeidsflyter?** UI genererer automatisk inputfelt basert pÃ¥ hva arbeidsflyten forventer

Det er som magi, men bare god kode. âœ¨

## Oppdragene dine: Bygg et podcast-studio ğŸ¬

### Oppdrag 1: Lag en enkelt agent med DevUI

ğŸ“‚ [01.AgentDevUI](../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**Utfordringen**: FÃ¸r du bygger et helt team, la oss teste DevUI med Ã©n agent: en web-sÃ¸k spesialist.

**Hva du bygger**:  
En forskningsagent som kan sÃ¸ke pÃ¥ internett etter podcast-emner. Du tester den via DevUIs webgrensesnitt pÃ¥ `http://localhost:8090`.

**Ferdigheter du lÃ¦rer**:  
- ğŸš€ Starte agenter i DevUI  
- ğŸ” Teste agentrespons i sanntid  
- ğŸ› ï¸ Bygge egendefinerte verktÃ¸y (web-sÃ¸k)  
- ğŸ“Š Aktivere sporing for feilsÃ¸king  
- ğŸ–¥ï¸ Bruke det interaktive web-UIet

**Koden**:  
- `agent.py`: Din SearchAgent med superkrefter for nettsÃ¸k  
- Bruker OllamaChatClient for Ã¥ koble til Qwen  
- Implementerer `web_search()` verktÃ¸yfunksjon  
- Starter med `serve()` â€” Ã¥pner DevUI automatisk

**Seiersbetingelse**: SpÃ¸r agenten din "Hva trender innen AI?" og se den sÃ¸ke pÃ¥ nettet! ğŸ‰

### Oppdrag 2: Bygg en arbeidsflyt med flere agenter

ğŸ“‚ [02.WorkflowDevUI](../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**Utfordringen**: NÃ¥ begynner moroa! Bygg en komplett arbeidsflyt for podcast-produksjon med:  
1. ğŸ” **SÃ¸keagent** â†’ Forsker pÃ¥ emnet ditt  
2. âœï¸ **Manusagent** â†’ Skriver en dialog mellom to verter (pÃ¥ kinesisk!)  
3. ğŸ‘¤ **GjennomgangsutfÃ¸rer** â†’ Ber DEG godkjenne eller avvise  
4. ğŸ”„ **LÃ¸kke tilbake** â†’ Hvis avvist, skriver om basert pÃ¥ tilbakemeldingen din

**Ferdigheter du lÃ¦rer**:  
- ğŸ§± Lage spesialiserte agenter for forskjellige jobber  
- ğŸ”— Koble agenter med WorkflowBuilder  
- ğŸ”€ Implementere godkjenningslÃ¸kker (menneske-i-lÃ¸kken!)  
- ğŸš¦ Betinget ruting (godkjent vs. avvist)  
- ğŸ”§ Lage egendefinerte utfÃ¸rere for forretningslogikk

**Arbeidsflyten**:  
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (if rejected)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```
  
**Koden**:  
- `search_agent/agent.py`: Din forskningsekspert  
- `generate_script_agent/agent.py`: Din manusforfatter (skriver pÃ¥ kinesisk!)  
- `workflow/workflow.py`: Orkestreringsmagien skjer her  
- `main.py`: Starter alt i DevUI

**Seiersbetingelse**: Gi et emne, gjennomgÃ¥ manus, avvis det en gang for Ã¥ teste lÃ¸kka, sÃ¥ godkjenn! ğŸ‰

### Oppdrag 3: Lag en konsollapp

ğŸ“‚ [03.Application](../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**Utfordringen**: Ta arbeidsflyten din fra DevUI og gjÃ¸r det til en stilig terminalapp med fargede utskrifter, lastespinnere og fil-lagring. Dette er produksjonsklart!

**Ferdigheter du lÃ¦rer**:  
- âš¡ KjÃ¸re arbeidsflyter programmessig (uten DevUI)  
- ğŸ“¡ Hendelsesdrevet arkitektur med streaming  
- ğŸ¨ Lage flotte terminal-UIer (farger, spinnere, fremdriftslinjer)  
- ğŸ’¾ Lagre sluttmanus til filer  
- ğŸ”„ HÃ¥ndtere asynkrone arbeidsflyter med Python asyncio

**Hva den gjÃ¸r**:  
1. SpÃ¸r etter et podcast-emne  
2. Viser fremdrift i sanntid ("SÃ¸keagent jobber...")  
3. Viser generert manus med farger  
4. SpÃ¸r etter din godkjenning  
5. Lagre godkjent manus til `podcast.txt`

**Koden**:  
- `podcast_app.py`: Hovedappen din med hendelseshÃ¥ndtering  
- `workflow.py`: Gjenbruker arbeidsflyten fra Oppdrag 2  
- HÃ¥ndterer hendelser: `AgentRunUpdateEvent`, `RequestInfoEvent`, `WorkflowOutputEvent`  
- Bruker ANSI-farger for terminalstil

**Seiersbetingelse**: KjÃ¸r appen, lag et podcast-manus og se det lagret! Du har laget et ekte verktÃ¸y. ğŸš€

## Hva du har mestret ğŸ†

Etter Akt 2 kan du:

- âœ… Orkestrere flere AI-agenter som en sjef  
- âœ… Bygge arbeidsflyter med bÃ¥de sekvensiell og betinget logikk  
- âœ… Legge til menneskelige godkjenningspunkter  
- âœ… Bruke DevUI for Ã¥ teste og feilsÃ¸ke arbeidsflyter  
- âœ… Lage produksjonsklare konsollapplikasjoner  
- âœ… HÃ¥ndtere feil elegant i komplekse systemer  
- âœ… Velge riktig orkestreringsmÃ¸nster for ethvert prosjekt

## NÃ¥r ting gÃ¥r galt ğŸ”§

### "Arbeidsflyten min er for komplisert!"  
**LÃ¸sningen**: Del den opp i mindre underarbeidsflyter. Hver arbeidsflyt bÃ¸r gjÃ¸re Ã‰N ting skikkelig bra. Knytt dem sammen ved behov.

### "Jeg klarer ikke Ã¥ holde oversikt over hva som skjer!"  
**LÃ¸sningen**: Bruk arbeidsflytsjekkpunkter for Ã¥ lagre status. Aktiver sporing i DevUI for Ã¥ se hvert steg.

### "En agents feil krasjer alt!"  
**LÃ¸sningen**: Legg til feilgjerder. Hver agent skal hÃ¥ndtere egne feil og ha fallback-logikk.

### "Dette gÃ¥r sÃ¥Ã¥Ã¥ tregt"  
**LÃ¸sningen**: Kan noen agenter kjÃ¸re parallelt? Sekvensielle arbeidsflyter er enkle, men trege. Se etter muligheter for parallellisering!

## Nyttige ressurser ğŸ”—

- [Workflow Docs](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” Offisielle Microsoft-guider  
- [Orchestration Patterns](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” IBMs syn pÃ¥ det  
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” Se gjennom kildekoden
- [Kodeeksempler](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” Stjel mÃ¸nstre herfra

---

**Klar for finalen?** Du har fÃ¥tt skriptet ditt. NÃ¥ la oss gjÃ¸re det om til faktisk lyd! â†’ [Akt 3: Gi podcasten din liv](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Fast? Forvirret? Spent?** Del i workshop-chatten! Vi lÃ¦rer alle sammen. ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Ansvarsfraskrivelse**:
Dette dokumentet er oversatt ved hjelp av AI-oversettelsestjenesten [Co-op Translator](https://github.com/Azure/co-op-translator). Selv om vi streber etter nÃ¸yaktighet, vennligst vÃ¦r oppmerksom pÃ¥ at automatiske oversettelser kan inneholde feil eller unÃ¸yaktigheter. Det opprinnelige dokumentet pÃ¥ originalsproget bÃ¸r betraktes som den autoritative kilden. For kritisk informasjon anbefales profesjonell menneskelig oversettelse. Vi pÃ¥tar oss ikke ansvar for misforstÃ¥elser eller feiltolkninger som oppstÃ¥r som fÃ¸lge av bruk av denne oversettelsen.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->