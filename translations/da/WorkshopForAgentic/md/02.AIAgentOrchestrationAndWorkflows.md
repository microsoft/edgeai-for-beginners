<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "93f84b804ced67c5cd017c3c4bb476ff",
  "translation_date": "2026-01-05T11:32:57+00:00",
  "source_file": "WorkshopForAgentic/md/02.AIAgentOrchestrationAndWorkflows.md",
  "language_code": "da"
}
-->
# Akt 2: SammensÃ¦t dit podcast-produktionshold ğŸ¬

![lab2](../../../../translated_images/lab2.48444b9d549e7863.da.png)

## Plottet Tykner

Alex (din AI-assistent fra Akt 1) er fantastisk, men Ã©n agent kan ikke drive et helt podcast-studie. Du har brug for et *team*:
- ğŸ” **Research Agent**: GennemgÃ¥r internettet for frisk information
- âœï¸ **Script Agent**: Omformer research til engagerende dialog
- ğŸ‘¤ **Dig (RedaktÃ¸ren)**: Godkender scripts eller sender dem tilbage til omskrivning

Velkommen til **AI Agent Orkestrering** â€” hvor du bliver instruktÃ¸r for dit eget AI-hold. Forestil dig Avengers, men for podcastproduktion.

## Hvad er Agent Orkestrering? (Den Enkle Version)

Forestil dig, at du driver en restaurant. Du gÃ¸r ikke alt selv, vel? Du har:
- ğŸ³ En kok, der laver mad
- ğŸ‘¨â€ğŸ³ En souschef, der forbereder
- ğŸ‘©â€ğŸ³ En tjener, der serverer

Agentorkestrering er samme idÃ©, men med AI. Hver agent har specialer, og du koordinerer dem for at nÃ¥ stÃ¸rre mÃ¥l. Ingen enkelt agent bliver overbelastet, og arbejdet gÃ¥r hurtigere.

### Band-Analogi ğŸ¸

Dine AI-agenter er som et band:
- **Forsanger**: Den primÃ¦re agent, der hÃ¥ndterer kundevendte opgaver
- **Trommeslager**: Holder rytmen, hÃ¥ndterer baggrundsprocesser  
- **Basspilleren**: StÃ¸tter alle, henter data
- **Dig (Band Manager)**: Koordinerer det hele!

Uden koordinering? Bare larm. Med orkestrering? Smuk musik.

### Hvorfor Det Betaler Sig

En enkelt AI-agent, der prÃ¸ver at klare det hele = udbrÃ¦ndthed. Specialiserede agenter, der arbejder sammen = effektivitet frigjort! ğŸš€

**Ã†rlig Snak**: Kan du huske, da du prÃ¸vede at researche, skrive OG redigere din podcast alene? Ja, det er trÃ¦ls. Med orkestrering hÃ¥ndterer hver agent det, den er bedst til. Du tager bare de endelige beslutninger.

**Virkelighedseksempel**: Kundesupportrobotter, der ved, hvornÃ¥r de skal hÃ¥ndtere fakturering vs. tekniske problemer vs. nÃ¥r de skal kalde en menneskelig medarbejder. Det er orkestrering!

## Agent vs. Workflow: Hvad er Forskellen?

TÃ¦nk sÃ¥dan her:

### ğŸ¤– AI Agent = Jazzmusiker
- **Tager beslutninger undervejs** baseret pÃ¥ det den hÃ¸rer
- **Improviserer** lÃ¸sninger ved hjÃ¦lp af sine vÃ¦rktÃ¸jer
- **TÃ¦nker** med en LLM-hjerne
- **Tilpasser sig** alt, du byder den

### ğŸµ Workflow = Orkester der spiller klassisk musik  
- **FÃ¸lger en partit** (foruddefinerede trin)
- **Forudsigelig** udfÃ¸relsessti
- **Koordinerer** flere agenter, mennesker, systemer
- **Struktureret** som en opskrift

**Magi**: Workflows *orkestrerer* agenter! Du bygger en workflow, der fortÃ¦ller agenter, hvornÃ¥r de skal spille deres rolle. Det bedste fra begge verdener. ğŸ­

## Tre MÃ¥der at Koordinere Dit AI-Hold PÃ¥

### 1. ğŸ¯ Centraliseret (Du er chefen)

Ã‰n hovedagent styrer det hele. TÃ¦nk pÃ¥ det som at du leder et hold â€” du beslutter, hvem der gÃ¸r hvad og hvornÃ¥r.

**Fordele**:
- âœ… Klar ledelse (ingen forvirring)
- âœ… Ensartede beslutninger
- âœ… Let at fejlfinde

**Brug det til**:
- Kundeservice-routing ("Er det fakturering eller teknisk support?")
- Godkendelsesworkflows for indhold ("BestÃ¥r dette manuskript?")
- Podcast-produktion (lige prÃ¦cis det vi bygger!)

### 2. ğŸ¤ Decentraliseret (Agenter organiserer sig selv)

Agenter kommunikerer direkte med hinanden og finder ud af tingene som gruppe. Som en gruppechat hvor alle koordinerer.

**Fordele**:
- âœ… Skalerer nemt (tilfÃ¸j flere agenter nÃ¥r som helst)
- âœ… Intet enkelt fejlpunkt
- âœ… Agenter samarbejder naturligt

**Brug det til**:
- Research-teams (hver agent undersÃ¸ger forskellige kilder)
- Brainstorming-sessioner
- Distribueret problemlÃ¸sning

### 3. ğŸ”€ Hybrid (Det bedste fra begge verdener)

Du sÃ¦tter den overordnede retning, men agenter har frihed til at organisere sig selv om opgaver. Som en CEO, der stoler pÃ¥ sit hold.

**Perfekt til**: Komplekse projekter, der krÃ¦ver bÃ¥de kontrol og fleksibilitet.

## Microsoft Agent Framework: Dit OrkestreringsvÃ¦rktÃ¸j ğŸ§°

Tid til at bygge! Her er hvad du vil bruge:

### Byggeklodserne

#### 1. ğŸ§± Executors (Dine Arbejdere)
- **Hvad de er**: Individuelle behandlingsenheder â€” kan vÃ¦re agenter eller egen logik
- **Hvad de gÃ¸r**: Modtager input, udfÃ¸rer arbejde, producerer output
- **TÃ¦nk pÃ¥ dem som**: Stationer pÃ¥ en samlebÃ¥nd

#### 2. â¡ï¸ Edges (Forbindelserne)
- **Hvad de er**: Stier mellem executors
- **Hvad de gÃ¸r**: Styrer beskedflow ("Efter A, gÃ¥ til B")
- **TÃ¦nk pÃ¥ dem som**: Pile pÃ¥ et flowdiagram

#### 3. ğŸ—ºï¸ Workflows (Hovedplanen)
- **Hvad de er**: Det komplette diagram af executors + edges
- **Hvad de gÃ¸r**: Definerer hele processen fra start til slut
- **TÃ¦nk pÃ¥ dem som**: Blueprint for din produktionspipeline

### Fede Funktioner, Du Vil Elske

**ğŸ›¡ï¸ Typesikkerhed**: Beskeder mellem agenter bliver type-tjekket. Ingen "Ups, forkert datatype"-overraskelser.

**ğŸ”€ Fleksibel Routing**: 
- If-then betingelser ("Hvis godkendt, udgiv; ellers omskriv")
- Parallel behandling (flere agenter arbejder samtidigt)
- Dynamiske stier (workflow tilpasser sig baseret pÃ¥ resultater)

**ğŸ”Œ Ekstern Integration**:
- Forbind til APIâ€™er
- TilfÃ¸j human-in-the-loop checkpoints (du godkender fÃ¸r udgivelse)
- Byg forespÃ¸rgsels-/svarflows

**ğŸ’¾ Checkpointing**: Gem fremskridt! Hvis noget gÃ¥r ned, kan du fortsÃ¦tte hvor du slap.

**ğŸ¤ Multi-Agent Koordination**:
- KÃ¸r agenter efter tur (A â†’ B â†’ C)
- KÃ¸r dem parallelt (A + B + C pÃ¥ Ã©n gang)
- Overlever helt mellem agenter
- Samarbejdende behandling

## Best Practices (Pro Tips) ğŸ¯

### 1. Hold Det ModulÃ¦rt
Hver agent bÃ¸r gÃ¸re Ã‰N ting rigtig godt. Lav ikke en "super agent", der gÃ¸r alt â€” det vil du fortryde, nÃ¥r du fejlsÃ¸ger.

### 2. PlanlÃ¦g til Fejl
Agenter laver fejl. NetvÃ¦rk fejler. Byg fejlhÃ¥ndtering og backup-planer ind. Din fremtidige jeg vil takke dig.

### 3. OvervÃ¥g Alt
Hold Ã¸je med, hvad dine agenter laver. Brug DevUI (det vender vi tilbage til!) for at se workflows i aktion.

### 4. Optimer BeskedstÃ¸rrelse
Send ikke gigantiske filer mellem agenter. Hold beskederne slanke og hurtige.

### 5. VÃ¦lg Det Rigtige MÃ¸nster
Skal du styre? GÃ¥ centraliseret. Skal du skalere? GÃ¥ decentraliseret. Kan du ikke vÃ¦lge? GÃ¥ hybrid!

## DevUI: Din Workflow Debugger ğŸ”

### Hvad er DevUI?

DevUI er som en legeplads til at teste dine agenter og workflows. Det er en webgrÃ¦nseflade, hvor du kan:
- ğŸ‘€ Se dine workflows i aktion
- ğŸ’¬ Chatte direkte med agenterne
- ğŸ” FejlsÃ¸ge, nÃ¥r noget gÃ¥r galt
- ğŸ“Š Se sporings- og performance-mÃ¥linger

> **Vigtigt**: DevUI er kun til udvikling! Brug det ikke i produktion. TÃ¦nk pÃ¥ det som dit lokale testmiljÃ¸.

### Hvad GÃ¸r Det Fantastisk

- **ğŸ–¥ï¸ Interaktiv Web UI**: Klik, skriv, test â€” ingen kommandolinje nÃ¸dvendig
- **ğŸ“ Drag-and-Drop Klar**: Upload filer, test med forskellige input
- **ğŸ“‚ Auto-Discovery**: Peg pÃ¥ en mappe, den finder automatisk alle dine agenter
- **ğŸ“‹ No-Setup Mode**: Registrer agenter i kode, ingen mappestruktur nÃ¸dvendig
- **ğŸ”Œ OpenAI Kompatibel**: Virker med OpenAI SDK (kompatibilitet FTW!)
- **ğŸ‘ï¸ Indbygget Tracing**: Se prÃ¦cis, hvad dine agenter laver

### Hvordan Input Fungerer

DevUI er smart med input:

- **Tester du agenter?** Du fÃ¥r tekstbokse og filupload-knapper
- **Tester du workflows?** UI genererer automatisk inputfelter baseret pÃ¥ workflowens forventninger

Det er magi, men bare god kode. âœ¨

## Dine Missioner: Byg et Podcast Studier ğŸ¬

### Mission 1: Opret en Enkel Agent med DevUI

ğŸ“‚ [01.AgentDevUI](../../../../WorkshopForAgentic/code/02.Workflow/01.AgentDevUI)

**Udfordringen**: FÃ¸r du bygger et helt team, lad os teste DevUI med en enkelt agent: en specialist i web-sÃ¸gning.

**Hvad Du Bygger**:
En research agent, der kan sÃ¸ge pÃ¥ nettet efter podcast-emner. Du tester den via DevUIs webinterface pÃ¥ `http://localhost:8090`.

**FÃ¦rdigheder Du LÃ¦rer**:
- ğŸš€ Starte agenter i DevUI
- ğŸ” Teste agentrespons i realtid
- ğŸ› ï¸ Bygge egne vÃ¦rktÃ¸jer (web-sÃ¸gning)
- ğŸ“Š Aktivere tracing for fejlfinding
- ğŸ–¥ï¸ Bruge den interaktive web UI

**Koden**:
- `agent.py`: Din SearchAgent med websearch superkrÃ¦fter
- Bruger OllamaChatClient til at forbinde med Qwen
- Implementerer `web_search()` vÃ¦rktÃ¸jsfunktion
- Starter med `serve()` â€” Ã¥bner DevUI automatisk

**Sejrskriterium**: SpÃ¸rg din agent "Hvad trender inden for AI?" og se den sÃ¸ge pÃ¥ nettet! ğŸ‰

### Mission 2: Byg en Multi-Agent Workflow

ğŸ“‚ [02.WorkflowDevUI](../../../../WorkshopForAgentic/code/02.Workflow/02.WorkflowDevUI)

**Udfordringen**: Nu starter det sjove! Byg en komplet podcast-produktionsworkflow med:
1. ğŸ” **Search Agent** â†’ Researcher dit emne
2. âœï¸ **Script Agent** â†’ Skriver en dialog mellem to vÃ¦rter (pÃ¥ kinesisk!)
3. ğŸ‘¤ **Review Executor** â†’ Beder DIG om at godkende eller afvise
4. ğŸ”„ **Loop Back** â†’ Hvis afvist, omskriver baseret pÃ¥ din feedback

**FÃ¦rdigheder Du LÃ¦rer**:
- ğŸ§± Oprette specialiserede agenter til forskellige opgaver
- ğŸ”— Forbinde agenter med WorkflowBuilder
- ğŸ”€ Implementere godkendelsesloops (human-in-the-loop!)
- ğŸš¦ Betinget routing (godkendt vs. afvist)
- ğŸ”§ Bygge egne executors til forretningslogik

**Workflowen**:
```
SearchAgent â†’ ScriptAgent â†’ ReviewExecutor
                             â†‘          â†“ (if rejected)
                             â†â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**Koden**:
- `search_agent/agent.py`: Din research-specialist
- `generate_script_agent/agent.py`: Din manuskriptforfatter (skriver pÃ¥ kinesisk!)
- `workflow/workflow.py`: Her sker orkestreringen
- `main.py`: Starter det hele i DevUI

**Sejrskriterium**: Giv et emne, gennemgÃ¥ manuskriptet, afvis det Ã©n gang for at teste loopet, og godkend sÃ¥! ğŸ‰

### Mission 3: Byg en Konsolapp

ğŸ“‚ [03.Application](../../../../WorkshopForAgentic/code/02.Workflow/03.Application)

**Udfordringen**: Tag din workflow fra DevUI og gÃ¸r den til en fed terminalapp med farvet output, loading-spinners og filgemning. Det er produktionsklar kode!

**FÃ¦rdigheder Du LÃ¦rer**:
- âš¡ KÃ¸re workflows programmatisk (uden DevUI)
- ğŸ“¡ Eventstyret arkitektur med streaming
- ğŸ¨ Skabe flotte terminal-UIâ€™er (farver, spinnere, fremskridtstÃ¦llere)
- ğŸ’¾ Gemme endelige scripts til filer
- ğŸ”„ HÃ¥ndtere asynkrone workflows med Pythons asyncio

**Hvad Den GÃ¸r**:
1. SpÃ¸rger om et podcast-emne
2. Viser realtidsprogression ("Search Agent arbejder...")
3. Viser det genererede manuskript med farver
4. Beder om din godkendelse
5. Gemmer godkendt manuskript til `podcast.txt`

**Koden**:
- `podcast_app.py`: Din hovedapp med eventhÃ¥ndtering
- `workflow.py`: Genbruger workflowen fra Mission 2
- HÃ¥ndterer events: `AgentRunUpdateEvent`, `RequestInfoEvent`, `WorkflowOutputEvent`
- Bruger ANSI-farver til terminal styling

**Sejrskriterium**: KÃ¸r appen, lav et podcastmanuskript, og se det blive gemt! Du har bygget et Ã¦gte vÃ¦rktÃ¸j. ğŸš€

## Hvad Du Har Mestret ğŸ†

Efter Akt 2 kan du:

- âœ… Orkestrere flere AI-agenter som en chef
- âœ… Bygge workflows med sekventiel OG betinget logik
- âœ… TilfÃ¸je menneskelige godkendelsescheckpoints
- âœ… Bruge DevUI til test og fejlfinding af workflows
- âœ… Skabe produktionsklare konsolapplikationer
- âœ… HÃ¥ndtere fejl elegant i komplekse systemer
- âœ… VÃ¦lge det rette orkestreringsmÃ¸nster til ethvert projekt

## NÃ¥r Tingene Bryder Sammen ğŸ”§

### "Min workflow er for kompliceret!"
**LÃ¸sningen**: Opdel den i mindre sub-workflows. Hver workflow bÃ¸r gÃ¸re Ã‰N ting godt. KÃ¦d dem sammen efter behov.

### "Jeg kan ikke fÃ¸lge med i, hvad der sker!"
**LÃ¸sningen**: Brug workflow checkpointing til at gemme tilstand. Aktiver tracing i DevUI for at se hvert trin.

### "En agents fejl bryder det hele ned!"
**LÃ¸sningen**: TilfÃ¸j fejlgraenser. Hver agent skal hÃ¥ndtere egne fejl og have fallback-adfÃ¦rd.

### "Det er sÃ¥Ã¥Ã¥ langsomt"
**LÃ¸sningen**: Kan agenter kÃ¸re parallelt? Sekventielle workflows er nemme men langsomme. Find muligheder for parallelisering!

## HjÃ¦lpsomme Ressourcer ğŸ”—

- [Workflow Docs](https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/overview) â€” Officielle Microsoft-vejledninger
- [Orchestration Patterns](https://www.ibm.com/think/topics/ai-agent-orchestration) â€” IBMs bud pÃ¥ det
- [Agent Framework GitHub](https://github.com/microsoft/agent-framework) â€” Se kildekoden
- [Code Examples](https://github.com/microsoft/agent-framework/tree/main/python/samples) â€” StjÃ¦l mÃ¸nstre herfra

---

**Klar til finalen?** Du har dit script. Nu lad os gÃ¸re det til rigtig lyd! â†’ [Act 3: Bring Your Podcast to Life](03.Multi-SpeakerPodcastGenerationWithVibeVoice.md) ğŸ¤

---

**Fastklemt? Forvirret? SpÃ¦ndt?** Del det i workshopchatten! Vi lÃ¦rer alle sammen. ğŸš€

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Ansvarsfraskrivelse**:
Dette dokument er blevet oversat ved hjÃ¦lp af AI-oversÃ¦ttelsestjenesten [Co-op Translator](https://github.com/Azure/co-op-translator). Selvom vi bestrÃ¦ber os pÃ¥ nÃ¸jagtighed, bedes du vÃ¦re opmÃ¦rksom pÃ¥, at automatiserede oversÃ¦ttelser kan indeholde fejl eller unÃ¸jagtigheder. Det oprindelige dokument pÃ¥ dets modersmÃ¥l skal betragtes som den autoritative kilde. For kritisk information anbefales professionel menneskelig oversÃ¦ttelse. Vi pÃ¥tager os intet ansvar for eventuelle misforstÃ¥elser eller fejltolkninger, der opstÃ¥r som fÃ¸lge af brugen af denne oversÃ¦ttelse.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->